overview:
  bussiness: 図書館システム
  system: 図書館システム
actor:
  - 会員
  - 図書館員
  - 司書
external_actor:
  - 書籍通販会社
information:
  - context: 情報モデル
    value:
      - name: 貸出図書
        related:
          - 本
      - name: 蔵書
        related:
          - 書架
      - name: 貸出予約
      - name: 会員
        related:
          - 貸出予約
          - 貸出図書
      - name: 本
        related:
          - 貸出予約
          - 蔵書
      - name: 書架
      - name: 書籍発注
        related:
          - 本
  - context: 窓口貸出
    value:
      - name: 貸出図書
      - name: 蔵書
  - context: Web予約
    value:
      - name: 蔵書
      - name: 貸出予約
  - context: 返却
    value:
      - name: 貸出図書
      - name: 蔵書
      - name: 貸出予約
  - context: 期限管理
    value:
      - name: 貸出図書
      - name: 貸出予約
      - name: 取置期限切れ
  - context: 貸出・返却
    value:
      - name: 貸出図書
      - name: 蔵書
      - name: 貸出予約
variation:
  - name: 会員種別
    value:
      - 大人
      - 子供
  - name: 遅延日数
    value:
      - 遅延日数＜３日
      - 遅延日数＜７日
      - 上記以外
  - name: 本種別
    value:
      - 書籍
      - 館内閲覧専用書籍
      - DVD
      - CD
condition:
  - name: 取置期限
    descripion: 貸出準備完了日＋７日
  - name: 貸出制限
    variation:
      - 遅延日数
      - 会員種別
  - name: 貸出期限
    descripion: 貸出日＋１４日
  - name: 貸出予約一覧出力条件
    descripion: 貸出予約の内「在庫あり」の本を一覧に出す
  - name: 予約貸出通知メッセージ
state:
  - group: Web予約の状態
    value:
      - name: 未準備
        usecase:
          - name: 予約図書を取り置く
            next_state: 準備完了
      - name: 準備完了
        usecase:
          - name: 取置期限を確認する
            next_state: 未予約
          - name: 予約図書を消し込む
            next_state: 未予約
      - name: 未予約
        usecase:
          - name: 貸出本を予約する
            next_state: 未準備
      - name: 準備完了
        usecase:
          - name: 取置期限を確認する
            next_state: 準備完了
      - name: null
        usecase:
          - name: 貸出本の予約・取消をする
            next_state: 未予約
  - group: 蔵書の状態
    value:
      - name: 在庫中
        usecase:
          - name: 蔵書の貸出を登録する
            next_state: 期限内
      - name: 期限内
        usecase:
          - name: 取置期限を確認する
            next_state: 期限切れ
          - name: 貸出図書の返却を登録する
            next_state: 在庫中
      - name: 期限内
        usecase:
          - name: 取置期限を確認する
            next_state: 期限内
