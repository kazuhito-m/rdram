(window.webpackJsonp=window.webpackJsonp||[]).push([[22,57],{695:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return v}));var r=e(5),o=e(6),c=e(149),l=e(232),f=e.n(l),v=function(){function n(){Object(r.a)(this,n)}return Object(o.a)(n,[{key:"makeRouterBy",value:function(n){if(n)return n.equals(c.a.MANHATTAN)?new f.a.layout.connection.ManhattanConnectionRouter:n.equals(c.a.CIRCUIT)?new f.a.layout.connection.CircuitConnectionRouter:n.equals(c.a.SPLINE)?new f.a.layout.connection.SplineConnectionRouter:void 0}},{key:"analyzeRouterType",value:function(n){if(!n)return c.a.DIRECT;var t=n.NAME;return t?"draw2d.layout.connection.ManhattanConnectionRouter"===t?c.a.MANHATTAN:"draw2d.layout.connection.CircuitConnectionRouter"===t?c.a.CIRCUIT:"draw2d.layout.connection.SplineConnectionRouter"===t?c.a.SPLINE:c.a.DIRECT:c.a.DIRECT}}]),n}()},701:function(n,t,e){"use strict";e.r(t),e.d(t,"default",(function(){return y}));e(48),e(25),e(22),e(54),e(43),e(17),e(66),e(80),e(42);var r=e(5),o=e(6),c=e(149),l=e(282),f=e(695);function v(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,t){if(!n)return;if("string"==typeof n)return d(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(n);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return d(n,t)}(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return c=n.done,n},e:function(n){l=!0,o=n},f:function(){try{c||null==e.return||e.return()}finally{if(l)throw o}}}}function d(n,t){(null==t||t>n.length)&&(t=n.length);for(var i=0,e=new Array(t);i<t;i++)e[i]=n[i];return e}var y=function(){function n(){Object(r.a)(this,n),this.eventGists=[],this.routerConverter=new f.default}return Object(o.a)(n,[{key:"eventType",value:function(){return"Connect Ports"}},{key:"prototype",value:function(){return new n}},{key:"validate",value:function(n,t,view){var e,r,o,c=v(this.eventGists);try{for(c.s();!(o=c.n()).done;){var f=o.value,d=parseInt(null===(e=f.source)||void 0===e?void 0:e.getParent().id,10),y=parseInt(null===(r=f.target)||void 0===r?void 0:r.getParent().id,10);if(d&&y){var h=l.a.prototypeOf("",d,y);if(!this.validateRelationBetweenResource(h,n,t,view))return f.rootCommand.undo(),!1}}}catch(n){c.e(n)}finally{c.f()}return!0}},{key:"validateRelationBetweenResource",value:function(n,t,e,view){var r=e.relationable(n,t.id);return 0===r.length||(view.showWarnBar(r),!1)}},{key:"apply",value:function(n,t,view){var e,r,o,f=n,d=v(this.eventGists);try{for(d.s();!(o=d.n()).done;){var y=o.value,h=parseInt(null===(e=y.source)||void 0===e?void 0:e.getParent().id,10),w=parseInt(null===(r=y.target)||void 0===r?void 0:r.getParent().id,10);if(h&&w){var C=y.connection;C.onContextMenu=view.onClickConnectorOnCanvas;var R=l.a.prototypeOf(C.id,h,w);if(view.isFlowRelation(R)){var A=c.a.MANHATTAN;R=R.changeRouter(A),C.setRouter(this.routerConverter.makeRouterBy(A))}f=f.addRelation(R),view.decorateWhenFlow(R,C)}}}catch(n){d.e(n)}finally{d.f()}return f}}]),n}()}}]);