(window.webpackJsonp=window.webpackJsonp||[]).push([[16,57,58,73,76,79,80],{684:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(22),o(17),o(66),o(106)),h=o(685),y=o(3),m=o(62);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var R,O=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},k=R=function(e){Object(c.a)(o,e);var t=C(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).subTitle="",e.title="",e.iconKey="",e.firstCheck=!1,e.name="",e.description="",e}return Object(r.a)(o,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){}},{key:"changeConsent",value:function(e){}},{key:"onChangeResource",value:function(){this.resource&&this.onShow()}},{key:"onShow",value:function(){var e=this;this.changeConsent(!1),this.firstCheck=!0;var t=this.resource.type;this.title=this.isAddNew()?"".concat(t.name," の新規作成"):"".concat(this.resource.name," の設定"),this.subTitle=t.name,this.iconKey=t.iconKey,this.showProperties(this.resource),this.$nextTick((function(){e.showCustomProperties(e.resource),y.a.始点終点.equals(e.resource.type)&&(e.description+=" ")}))}},{key:"isAddNew",value:function(){return this.resource.resourceId===R.ID_WHEN_CREATE_NEW}},{key:"showProperties",value:function(e){this.name=e.name,this.description=e.description}},{key:"changed",value:function(){var e=this.resource;return e.name!==this.name||e.description!==this.description}},{key:"nameMaxLength",get:function(){return m.a.NAME_MAX_LENGTH}},{key:"descriptionMaxLength",get:function(){return m.a.DESCRIPTION_MAX_LENGTH}},{key:"validateName",value:function(){if(this.changeConsent(!1),this.firstCheck)return!(this.firstCheck=!1);var e=this.name;if(0===e.length)return"入力してください。";var t=this.nameMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.changeConsent(this.changed()),!0)}},{key:"validateDescription",value:function(){this.changeConsent(!1);var e=this.description,t=this.descriptionMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.changeConsent(this.changed()),!0)}},{key:"onClickUpdateExecute",value:function(){if(this.consent){var e=this.getInputResource();null!==e&&(this.onModifyResource(e),this.onClose())}}},{key:"getInputResource",value:function(){var e=this.resource.with(this.name,this.description);return this.logicalValidation(e)?e:null}},{key:"logicalValidation",value:function(e){return!this.resources.existsSomeName(e.name,e.type)||(alert("既に重複した名前の".concat(e.type.name,"が在ります。")),!1)}}]),o}(v.Vue);k.ID_WHEN_CREATE_NEW=-1,O([Object(v.Prop)({required:!0})],k.prototype,"resource",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"resources",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"consent",void 0),O([Object(v.Prop)()],k.prototype,"notFocusSetName",void 0),O([Object(v.Prop)()],k.prototype,"ignoreEscKey",void 0),O([Object(v.Prop)()],k.prototype,"ignoreEnterKey",void 0),O([Object(v.Prop)()],k.prototype,"dialogWidth",void 0),O([Object(v.Emit)("onModifyResource")],k.prototype,"onModifyResource",null),O([Object(v.Emit)("onClose")],k.prototype,"onClose",null),O([Object(v.Emit)("showCustomProperties")],k.prototype,"showCustomProperties",null),O([Object(v.Emit)("changeConsent")],k.prototype,"changeConsent",null),O([Object(v.Watch)("resource")],k.prototype,"onChangeResource",null);var j=k=R=O([Object(v.Component)({components:{PropertiesSettingDialog:h.default}})],k),P=o(86),E=o(79),w=o.n(E),T=o(774),x=o(676),D=o(775),_=o(125),I=o(813),component=Object(P.a)(j,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("PropertiesSettingDialog",{attrs:{id:e.resource,consent:e.consent,title:e.title,subTitle:e.subTitle,iconKey:e.iconKey,width:e.dialogWidth,ignoreEscKey:e.ignoreEscKey,ignoreEnterKey:e.ignoreEnterKey},on:{onClose:e.onClose,onClickOk:e.onClickUpdateExecute,onShow:e.onShow},scopedSlots:e._u([{key:"inputPart",fn:function(){return[o("v-container",[o("v-row",[o("v-col",[o("v-text-field",{attrs:{label:"名前",counter:"",autofocus:!e.notFocusSetName,rules:[e.validateName],maxlength:e.nameMaxLength},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),e._t("customInputFields"),e._v(" "),o("v-row",[o("v-col",[o("v-textarea",{attrs:{counter:"",filled:"",label:"備考・メモ",rows:"2","no-resize":"",max:e.descriptionMaxLength,rules:[e.validateDescription]},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)],2)]},proxy:!0}],null,!0)})}),[],!1,null,"2f3fdaea",null);t.default=component.exports;w()(component,{PropertiesSettingDialog:o(685).default}),w()(component,{VCol:T.a,VContainer:x.a,VRow:D.a,VTextField:_.a,VTextarea:I.a})},685:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(106));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var y=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},m=function(e){Object(c.a)(o,e);var t=h(o);function o(){return Object(n.a)(this,o),t.apply(this,arguments)}return Object(r.a)(o,[{key:"onClose",value:function(){}},{key:"onClickOk",value:function(){}},{key:"onShow",value:function(){}},{key:"onChangeId",value:function(){this.id&&this.onShow()}},{key:"onKeyEsc",value:function(){this.ignoreEscKey||this.onClose()}},{key:"onKeyEnter",value:function(){this.ignoreEnterKey||this.onClickOk()}}]),o}(v.Vue);y([Object(v.Prop)({required:!0})],m.prototype,"id",void 0),y([Object(v.Prop)({required:!0})],m.prototype,"title",void 0),y([Object(v.Prop)()],m.prototype,"iconKey",void 0),y([Object(v.Prop)()],m.prototype,"consent",void 0),y([Object(v.Prop)()],m.prototype,"subTitle",void 0),y([Object(v.Prop)()],m.prototype,"width",void 0),y([Object(v.Prop)()],m.prototype,"ignoreEscKey",void 0),y([Object(v.Prop)()],m.prototype,"ignoreEnterKey",void 0),y([Object(v.Emit)("onClose")],m.prototype,"onClose",null),y([Object(v.Emit)("onClickOk")],m.prototype,"onClickOk",null),y([Object(v.Emit)("onShow")],m.prototype,"onShow",null),y([Object(v.Watch)("id")],m.prototype,"onChangeId",null);var C=m=y([v.Component],m),R=o(86),O=o(79),k=o.n(O),j=o(294),P=o(264),E=o(47),w=o(663),T=o(266),x=o(674),component=Object(R.a)(C,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{attrs:{persistent:"","max-width":e.width,value:e.id},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onKeyEsc.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeyEnter.apply(null,arguments)}]}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[o("v-icon",[e._v(e._s(e.iconKey))]),e._v("\n      "+e._s(e.title)+"\n    ")],1),e._v(" "),o("v-card-subtitle",{staticClass:"text-right"},[e._v(e._s(e.subTitle))]),e._v(" "),o("v-card-text",[e._t("inputPart")],2),e._v(" "),o("v-card-actions",[o("v-spacer"),e._v(" "),o("v-btn",{attrs:{text:"",color:"normal"},on:{click:e.onClose}},[e._v("キャンセル")]),e._v(" "),o("v-btn",{attrs:{text:"",disabled:!e.consent,color:"primary"},on:{click:e.onClickOk}},[e._v("OK")])],1)],1)],1)}),[],!1,null,"6576dd9c",null);t.default=component.exports;k()(component,{VBtn:j.a,VCard:P.a,VCardActions:E.a,VCardSubtitle:E.b,VCardText:E.c,VCardTitle:E.d,VDialog:w.a,VIcon:T.a,VSpacer:x.a})},691:function(e,t,o){var content=o(713);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("3a9e3d91",content,!0,{sourceMap:!1})},692:function(e,t,o){var content=o(715);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("479762b0",content,!0,{sourceMap:!1})},693:function(e,t,o){var content=o(717);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("d6cf6c78",content,!0,{sourceMap:!1})},694:function(e,t,o){var content=o(727);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("4d49831c",content,!0,{sourceMap:!1})},695:function(e,t,o){"use strict";o.r(t),o.d(t,"default",(function(){return f}));var n=o(5),r=o(6),c=o(149),l=o(232),d=o.n(l),f=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"makeRouterBy",value:function(e){if(e)return e.equals(c.a.MANHATTAN)?new d.a.layout.connection.ManhattanConnectionRouter:e.equals(c.a.CIRCUIT)?new d.a.layout.connection.CircuitConnectionRouter:e.equals(c.a.SPLINE)?new d.a.layout.connection.SplineConnectionRouter:void 0}},{key:"analyzeRouterType",value:function(e){if(!e)return c.a.DIRECT;var t=e.NAME;return t?"draw2d.layout.connection.ManhattanConnectionRouter"===t?c.a.MANHATTAN:"draw2d.layout.connection.CircuitConnectionRouter"===t?c.a.CIRCUIT:"draw2d.layout.connection.SplineConnectionRouter"===t?c.a.SPLINE:c.a.DIRECT:c.a.DIRECT}}]),e}()},696:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(32),o(106)),h=o(94),y=o(684),m=o(721),C=o(722),R=o(723),O=o(174),k=o(724),j=o(173),P=o(127),E=o(725);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var T=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},x=function(e){Object(c.a)(o,e);var t=w(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).latestResources=null,e.targetStandaerdResource=null,e.targetHasContentResource=null,e.targetVariation=null,e.targetCondition=null,e.targetTableTypeCondition=null,e}return Object(r.a)(o,[{key:"onUpdatedResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"onChangeResourceId",value:function(){this.resourceId&&(0!==Number(this.resourceId)&&this.onShow())}},{key:"onShow",value:function(){var e=this.loadResources();if(e){var t=this.getTargetResource(e);this.latestResources=e,t instanceof O.a?this.targetVariation=t:t instanceof j.a?this.targetCondition=t:t instanceof P.a?this.targetTableTypeCondition=t:t instanceof h.a?this.targetHasContentResource=t:this.targetStandaerdResource=t}}},{key:"onModifyStandardResource",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseStandardResourceEditDialog",value:function(){this.targetStandaerdResource=null,this.onClose()}},{key:"onModifyHasContentResource",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseHasContentResourceEditDialog",value:function(){this.targetHasContentResource=null,this.onClose()}},{key:"onModifyVariation",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseVariationEditDialog",value:function(){this.targetVariation=null,this.onClose()}},{key:"onModifyCondition",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseConditionEditDialog",value:function(){this.targetCondition=null,this.onClose()}},{key:"onModifyTableTypeCondition",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseTableTypeConditionEditDialog",value:function(){this.targetTableTypeCondition=null,this.onClose()}},{key:"isAddNew",value:function(){return this.resourceId===y.default.ID_WHEN_CREATE_NEW}},{key:"getTargetResource",value:function(e){return this.isAddNew()?e.prototypeResourceOf(this.resourceType).renewId(y.default.ID_WHEN_CREATE_NEW):e.of(this.resourceId)}},{key:"loadResources",value:function(){var e,t=null===(e=this.repository)||void 0===e?void 0:e.getCurrentProduct();return t?t.resources:null}},{key:"registerResoruce",value:function(e){var t,o,n=null===(t=this.repository)||void 0===t?void 0:t.getCurrentProduct();if(!n)return e;var r=e;this.isAddNew()&&(r=r.renewId(n.resourceIdSequence),n=n.moveNextResourceIdSequence());var c=n.resources.meage(r);return n=n.withResources(c),null===(o=this.repository)||void 0===o||o.registerCurrentProduct(n),r}}]),o}(v.Vue);T([Object(v.Prop)({required:!0})],x.prototype,"resourceId",void 0),T([Object(v.Prop)({required:!0})],x.prototype,"resourceType",void 0),T([Object(v.Emit)("onUpdatedResource")],x.prototype,"onUpdatedResource",null),T([Object(v.Emit)("onClose")],x.prototype,"onClose",null),T([Object(v.Watch)("resourceId")],x.prototype,"onChangeResourceId",null),T([Object(v.Inject)()],x.prototype,"repository",void 0);var D=x=T([Object(v.Component)({components:{StandardResourceEditDialog:m.default,HasContentResourceEditDialog:C.default,VariationEditDialog:R.default,ConditionEditDialog:k.default,TableTypeConditionEditDialog:E.default}})],x),_=o(86),component=Object(_.a)(D,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("StandardResourceEditDialog",{attrs:{resource:e.targetStandaerdResource,resources:e.latestResources},on:{onModifyResource:e.onModifyStandardResource,onClose:e.onCloseStandardResourceEditDialog}}),e._v(" "),o("HasContentResourceEditDialog",{attrs:{resource:e.targetHasContentResource,resources:e.latestResources},on:{onModifyResource:e.onModifyHasContentResource,onClose:e.onCloseHasContentResourceEditDialog}}),e._v(" "),o("VariationEditDialog",{attrs:{resource:e.targetVariation,resources:e.latestResources},on:{onModifyResource:e.onModifyVariation,onClose:e.onCloseVariationEditDialog}}),e._v(" "),o("ConditionEditDialog",{attrs:{resource:e.targetCondition,resources:e.latestResources},on:{onModifyResource:e.onModifyCondition,onClose:e.onCloseConditionEditDialog}}),e._v(" "),o("TableTypeConditionEditDialog",{attrs:{resource:e.targetTableTypeCondition,resources:e.latestResources},on:{onModifyResource:e.onModifyTableTypeCondition,onClose:e.onCloseTableTypeConditionEditDialog}})],1)}),[],!1,null,"240a6eba",null);t.default=component.exports},698:function(e,t,o){var content=o(733);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("5e59e8f9",content,!0,{sourceMap:!1})},712:function(e,t,o){"use strict";o(691)},713:function(e,t,o){var n=o(26)(!1);n.push([e.i,".zoom-slider[data-v-3838a836]{width:250px;height:35px}.zoom-parsentage[data-v-3838a836]{height:35px}",""]),e.exports=n},714:function(e,t,o){"use strict";o(692)},715:function(e,t,o){var n=o(26)(!1);n.push([e.i,".values-spread[data-v-e56dac4a]{color:#000}",""]),e.exports=n},716:function(e,t,o){"use strict";o(693)},717:function(e,t,o){var n=o(26)(!1);n.push([e.i,".values-spread-headless[data-v-3e835658]{color:#000}.values-spread-headless>div>table>tbody>tr>td[data-v-3e835658]{min-height:120px}",""]),e.exports=n},719:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(32),o(44));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var y=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},m=function(e){Object(c.a)(o,e);var t=h(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).zoomPercentage=100,e.MAX=200,e.MIN=20,e.INCREMENTAL=10,e}return Object(r.a)(o,[{key:"onChangeZoomBySlider",value:function(e){}},{key:"canvasZoomToSlider",value:function(e){this.zoomPercentage=100/e}},{key:"onChangeCanvasZoom",value:function(){this.canvasZoomToSlider(this.canvasZoom)}},{key:"onChangeSliderValue",value:function(){if(isFinite(this.zoomPercentage)){var base=Number(this.zoomPercentage),e=base;if(base<this.MIN&&(e=this.MIN),base>this.MAX&&(e=this.MAX),base===e){var t=100/e;this.onChangeZoomBySlider(t)}else this.zoomPercentage=e}}},{key:"onClickZoomOut",value:function(){this.zoomPercentage=this.zoomPercentage-this.INCREMENTAL||this.MIN}},{key:"onClickZoomIn",value:function(){this.zoomPercentage=this.zoomPercentage+this.INCREMENTAL||this.MAX}}]),o}(v.Vue);y([Object(v.Prop)({required:!0})],m.prototype,"canvasZoom",void 0),y([Object(v.Emit)("onChangeZoomBySlider")],m.prototype,"onChangeZoomBySlider",null),y([Object(v.Watch)("canvasZoom")],m.prototype,"onChangeCanvasZoom",null),y([Object(v.Watch)("zoomPercentage")],m.prototype,"onChangeSliderValue",null);var C=m=y([v.Component],m),R=(o(712),o(86)),O=o(79),k=o.n(O),j=o(835),component=Object(R.a)(C,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-slider",{staticClass:"zoom-slider",attrs:{dence:"","append-icon":"mdi-magnify-plus-outline","prepend-icon":"mdi-magnify-minus-outline",max:e.MAX,min:e.MIN},on:{"click:append":e.onClickZoomIn,"click:prepend":e.onClickZoomOut},model:{value:e.zoomPercentage,callback:function(t){e.zoomPercentage=e._n(t)},expression:"zoomPercentage"}})}),[],!1,null,"3838a836",null);t.default=component.exports;k()(component,{VSlider:j.a})},720:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(25),o(42),o(106)),h=o(685),y=o(282),m=o(149);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var R=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},O=function(e){Object(c.a)(o,e);var t=C(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).consent=!1,e.title="関連 の設定",e.subTitle="関連",e.routerTypes=m.a.values(),e.meaning="",e.routerType=m.a.DIRECT,e}return Object(r.a)(o,[{key:"onUpdateRelationProperties",value:function(e){}},{key:"onClose",value:function(){}},{key:"onChangeRelation",value:function(){this.relation&&this.onShow()}},{key:"onShow",value:function(){this.relation&&(this.consent=!1,this.showProperties(this.relation))}},{key:"showProperties",value:function(e){this.meaning=e.meaning,this.routerType=e.routerType}},{key:"changed",value:function(){if(!this.relation)return!1;var e=this.relation;return e.meaning!==this.meaning||!e.routerType.equals(this.routerType)}},{key:"meaningMaxLength",get:function(){return y.a.MEANING_MAX_LENGTH}},{key:"validateMeaning",value:function(){this.consent=!1;var e=this.meaning,t=this.meaningMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.consent=this.changed(),!0)}},{key:"onClickUpdateExecute",value:function(){if(this.relation&&this.consent){var e=this.relation.with(this.meaning,this.routerType);this.onUpdateRelationProperties(e),this.onClose()}}},{key:"onChangeRouterType",value:function(e){this.routerType=e,this.consent=this.changed()}}]),o}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"relation",void 0),R([Object(v.Emit)("onUpdateRelationProperties")],O.prototype,"onUpdateRelationProperties",null),R([Object(v.Emit)("onClose")],O.prototype,"onClose",null),R([Object(v.Watch)("relation")],O.prototype,"onChangeRelation",null);var k=O=R([Object(v.Component)({components:{PropertiesSettingDialog:h.default}})],O),j=o(86),P=o(79),E=o.n(P),w=o(294),T=o(831),x=o(774),D=o(676),_=o(775),I=o(125),component=Object(j.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("PropertiesSettingDialog",{attrs:{id:e.relation,consent:e.consent,title:e.title,subTitle:e.subTitle,iconKey:"mdi-vector-line",width:"490"},on:{onClose:e.onClose,onClickOk:e.onClickUpdateExecute,onShow:e.onShow},scopedSlots:e._u([{key:"inputPart",fn:function(){return[o("v-container",[o("v-row",[o("v-col",[o("v-text-field",{attrs:{label:"意味(関連に表示されるラベル)",counter:"",autofocus:"",rules:[e.validateMeaning],maxlength:e.meaningMaxLength},model:{value:e.meaning,callback:function(t){e.meaning=t},expression:"meaning"}})],1)],1),e._v(" "),o("v-row",[o("v-col",[o("p",[e._v("線形(軌跡の形状)")]),e._v(" "),o("v-btn-toggle",{attrs:{tile:"",color:"deep-purple accent-3",group:""},model:{value:e.routerType.id,callback:function(t){e.$set(e.routerType,"id",t)},expression:"routerType.id"}},e._l(e.routerTypes,(function(t){return o("v-btn",{key:t.id,attrs:{value:t.id},on:{click:function(o){return e.onChangeRouterType(t)}}},[e._v(e._s(t.name))])})),1)],1)],1)],1)]},proxy:!0}])})}),[],!1,null,"6dbea054",null);t.default=component.exports;E()(component,{PropertiesSettingDialog:o(685).default}),E()(component,{VBtn:w.a,VBtnToggle:T.a,VCol:x.a,VContainer:D.a,VRow:_.a,VTextField:I.a})},721:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(106)),h=o(684);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var m=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},C=function(e){Object(c.a)(o,e);var t=y(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).consent=!1,e}return Object(r.a)(o,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"changeConsent",value:function(e){this.consent=e}}]),o}(v.Vue);m([Object(v.Prop)({required:!0})],C.prototype,"resource",void 0),m([Object(v.Prop)({required:!0})],C.prototype,"resources",void 0),m([Object(v.Emit)("onModifyResource")],C.prototype,"onModifyResource",null),m([Object(v.Emit)("onClose")],C.prototype,"onClose",null);var R=C=m([Object(v.Component)({components:{CoreResourceEditDialog:h.default}})],C),O=o(86),component=Object(O.a)(R,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450"},on:{onModifyResource:e.onModifyResource,onClose:e.onClose,changeConsent:e.changeConsent}})}),[],!1,null,"4129e6b3",null);t.default=component.exports},722:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(106)),h=o(684),y=o(177),m=o(3);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var R=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},O=function(e){Object(c.a)(o,e);var t=C(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).content="",e.inputContentHint="",e.consent=!1,e}return Object(r.a)(o,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){this.content=e.content,this.inputContentHint=this.choiceHintText(e)}},{key:"changeConsent",value:function(e){!0===this.validateContent()?this.consent=e:this.consent=!1}},{key:"choiceHintText",value:function(e){return m.a.目的.equals(e.type)?"半角スペース・改行 で折り返す事ができます。":"改行 で折り返す事ができます。"}},{key:"validateContent",value:function(){this.consent=!1;var content=this.content;if(content.length<=0)return"入力してください。";var e=y.a.CONTENT_MAX_LENGTH;return content.length>e?"".concat(e,"文字以内で入力してください。"):(this.consent=!0,!0)}},{key:"onModifyResourceInner",value:function(e){var t=e.withContent(this.content);this.onModifyResource(t)}}]),o}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"resource",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"resources",void 0),R([Object(v.Emit)("onModifyResource")],O.prototype,"onModifyResource",null),R([Object(v.Emit)("onClose")],O.prototype,"onClose",null);var k=O=R([Object(v.Component)({components:{CoreResourceEditDialog:h.default}})],O),j=o(86),P=o(79),E=o.n(P),w=o(774),T=o(775),x=o(813),component=Object(j.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450",notFocusSetName:"true"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[o("v-row",[o("v-col",[o("v-textarea",{ref:"inputContent",attrs:{counter:"",filled:"",label:"内容",rows:"3","no-resize":"",autofocus:"",rules:[e.validateContent],hint:e.inputContentHint},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)]},proxy:!0}])})}),[],!1,null,"2f486cee",null);t.default=component.exports;E()(component,{VCol:w.a,VRow:T.a,VTextarea:x.a})},723:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(25),o(42),o(36),o(32),o(40),o(11),o(106)),h=o(710),y=o.n(h),m=(o(711),o(684)),C=o(174);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var O=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},k=function(e){Object(c.a)(o,e);var t=R(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).values=[],e.valuesSpread=null,e.consent=!1,e}return Object(r.a)(o,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){null!==this.valuesSpread&&this.valuesSpread.destroy(),this.values=e.valuesOf().map((function(e){return[e]}));var div=this.$refs.valuesSpreadDiv;this.valuesSpread=this.createSpread(this.values,div)}},{key:"createSpread",value:function(e,div){var t={data:this.values,allowToolbar:!0,columnResize:!1,columnSorting:!1,tableOverflow:!0,tableHeight:"130px",allowInsertColumn:!1,onchange:this.onChangedCell,columns:[{type:"text",title:"値の種類",width:"325px",align:"left"}]};return y()(div,t)}},{key:"onChangedCell",value:function(e,t,o,n,r){var c=Number(n),l=r.trim().substring(0,C.a.CONDITION_VALUE_MAX_LENGTH);this.values[c][0]=l,t.textContent=l}},{key:"onModifyResourceInner",value:function(e){var t=this.values.map((function(line){return line[0]})).map((function(e){return e.trim()})).filter((function(e){return e.length>0})),o=e.withValues(t);this.onModifyResource(o)}},{key:"changeConsent",value:function(e){this.consent=e}}]),o}(v.Vue);O([Object(v.Prop)({required:!0})],k.prototype,"resource",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"resources",void 0),O([Object(v.Emit)("onModifyResource")],k.prototype,"onModifyResource",null),O([Object(v.Emit)("onClose")],k.prototype,"onClose",null);var j=k=O([Object(v.Component)({components:{CoreResourceEditDialog:m.default}})],k),P=(o(714),o(86)),E=o(79),w=o.n(E),T=o(774),x=o(775),component=Object(P.a)(j,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450",ignoreEscKey:"true",ignoreEnterKey:"true"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[o("v-row",[o("v-col",[o("div",{ref:"valuesSpreadDiv",staticClass:"values-spread"})])],1)]},proxy:!0}])})}),[],!1,null,"e56dac4a",null);t.default=component.exports;w()(component,{VCol:T.a,VRow:x.a})},724:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(106)),h=o(684),y=o(173);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var C=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},R=function(e){Object(c.a)(o,e);var t=m(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).value="",e.consent=!1,e}return Object(r.a)(o,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){this.value=e.value}},{key:"onModifyResourceInner",value:function(e){var t=e.withValue(this.value);this.onModifyResource(t)}},{key:"changeConsent",value:function(e){!0===this.validateValue()&&(this.consent=e)}},{key:"valueMaxLength",get:function(){return y.a.CONDITION_VALUE_MAX_LENGTH}},{key:"validateValue",value:function(){this.consent=!1;var e=this.value;if(0===e.length)return"入力してください。";var t=this.valueMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.consent=!0,!0)}}]),o}(v.Vue);C([Object(v.Prop)({required:!0})],R.prototype,"resource",void 0),C([Object(v.Prop)({required:!0})],R.prototype,"resources",void 0),C([Object(v.Emit)("onModifyResource")],R.prototype,"onModifyResource",null),C([Object(v.Emit)("onClose")],R.prototype,"onClose",null);var O=R=C([Object(v.Component)({components:{CoreResourceEditDialog:h.default}})],R),k=o(86),j=o(79),P=o.n(j),E=o(774),w=o(775),T=o(125),component=Object(k.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[o("v-row",[o("v-col",[o("v-text-field",{attrs:{label:"条件の内容",counter:"",rules:[e.validateValue],maxlength:e.valueMaxLength},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)]},proxy:!0}])})}),[],!1,null,"ef481198",null);t.default=component.exports;P()(component,{VCol:E.a,VRow:w.a,VTextField:T.a})},725:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(25),o(42),o(32),o(40),o(36),o(106)),h=o(710),y=o.n(h),m=(o(711),o(684)),C=o(173);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var O=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},k=function(e){Object(c.a)(o,e);var t=R(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).values=[],e.valuesSpread=null,e.consent=!1,e}return Object(r.a)(o,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){null!==this.valuesSpread&&this.valuesSpread.destroy(),this.values=e.valuesOf();var div=this.$refs.valuesSpreadDiv;this.valuesSpread=this.createSpread(this.values,div)}},{key:"createSpread",value:function(e,div){var t={data:this.values,allowToolbar:!0,columnResize:!0,columnSorting:!1,rowResize:!0,tableOverflow:!0,tableHeight:"130px",tableWidth:"530px",defaultColWidth:"130px",defaultColAlign:"left",allowInsertColumn:!0,onchange:this.onChangedCell},o=y()(div,t);return o.hideIndex(),this.hideRowHeader(div),o}},{key:"hideRowHeader",value:function(e){e.getElementsByTagName("thead").item(0).style.display="none"}},{key:"onChangedCell",value:function(e,t,o,n,r){var c=Number(n),l=r.trim().substring(0,C.a.CONDITION_VALUE_MAX_LENGTH);this.values[c][0]=l,t.textContent=l}},{key:"onModifyResourceInner",value:function(e){var t=this,o=this.values.map((function(line){return t.normalizeValues(line)})),n=e.withValues(o);this.onModifyResource(n)}},{key:"normalizeValues",value:function(e){return e.map((function(e){return e.trim()}))}},{key:"changeConsent",value:function(e){this.consent=e}}]),o}(v.Vue);O([Object(v.Prop)({required:!0})],k.prototype,"resource",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"resources",void 0),O([Object(v.Emit)("onModifyResource")],k.prototype,"onModifyResource",null),O([Object(v.Emit)("onClose")],k.prototype,"onClose",null);var j=k=O([Object(v.Component)({components:{CoreResourceEditDialog:m.default}})],k),P=(o(716),o(86)),E=o(79),w=o.n(E),T=o(774),x=o(775),component=Object(P.a)(j,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,ignoreEscKey:"true",ignoreEnterKey:"true",dialogWidth:"600"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[o("v-row",[o("v-col",[e._v("\n        条件\n        "),o("br"),e._v(" "),o("div",{ref:"valuesSpreadDiv",staticClass:"values-spread-headless"}),e._v("\n        ※tabキーで列追加、enterキーで行追加、右クリックでその他の操作\n      ")])],1)]},proxy:!0}])})}),[],!1,null,"3e835658",null);t.default=component.exports;w()(component,{VCol:T.a,VRow:x.a})},726:function(e,t,o){"use strict";o(694)},727:function(e,t,o){var n=o(26)(!1);n.push([e.i,".canvas-float-toolbar{width:500px;left:2%;top:-10%;display:block;z-index:2;transition:none;position:absolute}",""]),e.exports=n},728:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(50),o(92),o(11),o(25),o(42),o(106)),h=o(748),y=o(719),m=o(49);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var R=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},O=function(e){Object(c.a)(o,e);var t=C(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).TOOLBAR_PADDING=10,e.toolBarCollapse=!1,e.dragStartLayerX=0,e.dragStartLayerY=0,e.lastContainerWidth=0,e.lastContainerHeight=0,e}return Object(r.a)(o,[{key:"onChangeCanvasGuideType",value:function(e){}},{key:"onPngDownload",value:function(){}},{key:"onSvgDownLoad",value:function(){}},{key:"onOpendDiagramPropertiesEditor",value:function(e){}},{key:"created",value:function(){this.toolBarId="toolBar"+this.diagramId}},{key:"mounted",value:function(){var e=this.getCanvasContainer();e&&(e.addEventListener("dragover",this.onDragOverToolBar),e.addEventListener("drop",this.onDropToolBar),this.addResizeListenerCanvasContainer(),this.moveToolBarOnFirstPosition())}},{key:"onChangeZoom",value:function(e){this.onChangeZoomParent(e)}},{key:"onChangeZoomParent",value:function(e){}},{key:"onResizeEditorPain",value:function(e){if(0!==e[0].target.clientHeight){var t=this.getToolBarElement();if(t){var o=e[0].target,n=o.clientWidth-this.lastContainerWidth,r=o.clientHeight-this.lastContainerHeight,c=t.offsetLeft+n,l=t.offsetTop+r;this.fixAreaOverToolBar(c,l,t),this.lastContainerWidth=o.clientWidth,this.lastContainerHeight=o.clientHeight}}}},{key:"onDblClickZoomPercentage",value:function(){this.onChangeZoomParent(1)}},{key:"addResizeListenerCanvasContainer",value:function(){var e=this.getCanvasContainer();e&&new h.ResizeObserver(this.onResizeEditorPain).observe(e)}},{key:"moveToolBarOnFirstPosition",value:function(){var e=this.getToolBarElement(),t=this.getCanvasContainer();if(t){this.lastContainerWidth=t.clientWidth,this.lastContainerHeight=t.clientHeight;var o=this.TOOLBAR_PADDING,n=(t.offsetHeight,t.clientHeight,t.clientWidth-e.offsetWidth-o),r=t.clientHeight-e.offsetHeight-o,style=e.style;style.left="".concat(n,"px"),style.top="".concat(r,"px")}}},{key:"onMouseDownToolBar",value:function(e){this.dragStartLayerX=e.layerX,this.dragStartLayerY=e.layerY}},{key:"onDragStartToolBar",value:function(e){var t;null===(t=e.dataTransfer)||void 0===t||t.setData("text",this.toolBarId)}},{key:"onDragOverToolBar",value:function(e){null==e||e.preventDefault()}},{key:"onDropToolBar",value:function(e){var t;if((null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))===this.toolBarId){var o=this.getToolBarElement(),n=this.getCanvasContainer();if(o&&n){var r=n.getBoundingClientRect(),c=e.pageX-r.left,l=e.pageY-r.top,d=c-this.dragStartLayerX,f=l-this.dragStartLayerY;this.fixAreaOverToolBar(d,f,o),e.preventDefault()}}}},{key:"fixAreaOverToolBar",value:function(e,t,o){var n=this.getCanvasContainer();if(n){var r=o.offsetWidth,c=o.offsetHeight;e+r-n.clientWidth>0&&(e=n.clientWidth-r),e<0&&(e=0),t+c-n.clientHeight>0&&(t=n.clientHeight-c),t<0&&(t=0);var style=o.style;style.left="".concat(e,"px"),style.top="".concat(t,"px")}}},{key:"onClickBarCollapseToggle",value:function(){var e=this,t=this.getToolBarElement(),o=t.offsetWidth;this.toolBarCollapse=!this.toolBarCollapse,this.$nextTick((function(){var n=t.offsetLeft+o-t.offsetWidth,r=parseInt(t.style.top.replace(/px$/,""));e.fixAreaOverToolBar(n,r,t)}))}},{key:"calcZoomPercentage",value:function(){return"".concat(Math.floor(100/this.canvasZoom),"%")}},{key:"canvasGuideTypes",value:function(){var e=this;return m.default.values().filter((function(t){return!t.equals(e.canvasGuideType)}))}},{key:"onClickChangeCanvasGuideType",value:function(e){this.onChangeCanvasGuideType(e)}},{key:"onClickSvgDownload",value:function(){this.onSvgDownLoad()}},{key:"onClickEditDiagramProperties",value:function(){this.onOpendDiagramPropertiesEditor(this.diagramId)}},{key:"getToolBarElement",value:function(){return document.getElementById(this.toolBarId)}},{key:"getEditorPain",value:function(){var e=this.getToolBarElement().parentElement;return e||null}},{key:"getCanvasContainer",value:function(){var e=this.$parent.$el;return e||null}}]),o}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"diagramId",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"canvasZoom",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"canvasGuideType",void 0),R([Object(v.Emit)("onChangeCanvasGuideType")],O.prototype,"onChangeCanvasGuideType",null),R([Object(v.Emit)("onPngDownload")],O.prototype,"onPngDownload",null),R([Object(v.Emit)("onSvgDownload")],O.prototype,"onSvgDownLoad",null),R([Object(v.Emit)("onOpendDiagramPropertiesEditor")],O.prototype,"onOpendDiagramPropertiesEditor",null),R([Object(v.Emit)("onChangeZoomBySlider")],O.prototype,"onChangeZoomParent",null);var k=O=R([Object(v.Component)({components:{CanvasZoomSlider:y.default}})],O),j=(o(726),o(86)),P=o(79),E=o.n(P),w=o(294),T=o(264),x=o(266),D=o(268),_=o(163),I=o(90),S=o(274),M=o(674),B=o(85),component=Object(j.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-toolbar",{staticClass:"canvas-float-toolbar",attrs:{id:e.toolBarId,draggable:"",dense:"",floating:"",outlined:"",rounded:"",shaped:"",short:"",collapse:e.toolBarCollapse},on:{dragstart:e.onDragStartToolBar,mousedown:e.onMouseDownToolBar}},[o("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickEditDiagramProperties}},[o("v-icon",[e._v("mdi-content-save-edit-outline")])],1),e._v(" "),o("v-spacer"),e._v(" "),e.toolBarCollapse?e._e():o("v-card",[o("CanvasZoomSlider",{attrs:{canvasZoom:e.canvasZoom},on:{onChangeZoomBySlider:e.onChangeZoom}})],1),e._v(" "),e.toolBarCollapse?e._e():o("span",{on:{dblclick:function(t){return e.onDblClickZoomPercentage()}}},[e._v(e._s(e.calcZoomPercentage()))]),e._v(" "),e.toolBarCollapse?e._e():o("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({attrs:{dark:"",small:"",icon:""}},"v-btn",r,!1),n),[o("v-icon",[e._v(e._s(e.canvasGuideType.iconKey))])],1)]}}],null,!1,3674894110)},[e._v(" "),o("v-list",e._l(e.canvasGuideTypes(),(function(t){return o("v-list-item",{key:t.iconKey,on:{click:function(o){return e.onClickChangeCanvasGuideType(t)}}},[o("v-list-item-title",[o("v-icon",[e._v(e._s(t.iconKey))]),e._v("\n          "+e._s(t.caption)+"\n        ")],1)],1)})),1)],1),e._v(" "),e.toolBarCollapse?e._e():o("v-btn",{attrs:{dark:"",small:"",icon:""}},[o("v-icon",{on:{click:e.onPngDownload}},[e._v("mdi-image")])],1),e._v(" "),e.toolBarCollapse?e._e():o("v-btn",{attrs:{dark:"",small:"",icon:""}},[o("v-icon",{on:{click:e.onClickSvgDownload}},[e._v("mdi-image-outline")])],1),e._v(" "),o("v-spacer"),e._v(" "),e.toolBarCollapse?e._e():o("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickBarCollapseToggle}},[o("v-icon",[e._v("mdi-arrow-collapse-horizontal")])],1),e._v(" "),e.toolBarCollapse?o("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickBarCollapseToggle}},[o("v-icon",[e._v("mdi-arrow-expand-horizontal")])],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;E()(component,{VBtn:w.a,VCard:T.a,VIcon:x.a,VList:D.a,VListItem:_.a,VListItemTitle:I.b,VMenu:S.a,VSpacer:M.a,VToolbar:B.a})},729:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(25),o(42),o(106)),h=o(720),y=o(149);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var C=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},R=function(e){Object(c.a)(o,e);var t=m(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).routerTypes=y.a.values(),e.visibleRouterSelector=!1,e.changedRouterTypeId=0,e.editTargetRelation=null,e}return Object(r.a)(o,[{key:"onUpdateRelation",value:function(e){}},{key:"onDeleteRelation",value:function(e){}},{key:"onClickChangeRouter",value:function(){this.relation&&(this.visibleRouterSelector=!1,this.changedRouterTypeId=this.relation.routerType.id,this.visibleRouterSelector=!0)}},{key:"onChangeRouterType",value:function(e){this.relation&&(this.visibleRouterSelector=!1,this.onUpdateRelation(this.relation.changeRouter(e)))}},{key:"onClickDeleteConnection",value:function(){this.relation&&this.onDeleteRelation(this.relation)}},{key:"onClickEditConnection",value:function(){this.editTargetRelation=this.relation}},{key:"onUpdateRelationProperties",value:function(e){this.onUpdateRelation(e)}},{key:"onClosePropertiesEditor",value:function(){this.editTargetRelation=null}}]),o}(v.Vue);C([Object(v.Prop)({required:!0})],R.prototype,"visibleConnectorRightClickMenu",void 0),C([Object(v.Prop)({required:!0})],R.prototype,"relation",void 0),C([Object(v.Prop)()],R.prototype,"menuPositionX",void 0),C([Object(v.Prop)()],R.prototype,"menuPositionY",void 0),C([Object(v.Emit)("onUpdateRelation")],R.prototype,"onUpdateRelation",null),C([Object(v.Emit)("onDeleteRelation")],R.prototype,"onDeleteRelation",null);var O=R=C([Object(v.Component)({components:{RelationPropertiesEditDialog:h.default}})],R),k=o(86),j=o(79),P=o.n(j),E=o(836),w=o(294),T=o(831),x=o(268),D=o(163),_=o(90),I=o(274),S=o(84),component=Object(k.a)(O,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-menu",{attrs:{value:e.visibleConnectorRightClickMenu,"close-on-click":!0,"close-on-content-click":!0,"offset-x":!0,rounded:!0,"position-x":e.menuPositionX,"position-y":e.menuPositionY}},[o("v-list",[o("v-list-item",{attrs:{link:""},on:{click:e.onClickChangeRouter}},[o("v-list-item-title",[e._v("関連の線形(軌跡の形状)を変更...")])],1),e._v(" "),o("v-list-item",{attrs:{link:""},on:{click:e.onClickEditConnection}},[o("v-list-item-title",[e._v("関連の設定...")])],1),e._v(" "),o("v-list-item",{attrs:{link:""},on:{click:e.onClickDeleteConnection}},[o("v-list-item-title",[e._v("関連の削除")])],1)],1)],1),e._v(" "),o("v-bottom-sheet",{attrs:{inset:"","open-on-hover":""},model:{value:e.visibleRouterSelector,callback:function(t){e.visibleRouterSelector=t},expression:"visibleRouterSelector"}},[o("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[o("v-btn",{staticClass:"mt-6",attrs:{text:"",color:"normal"},on:{click:function(t){e.visibleRouterSelector=!e.visibleRouterSelector}}},[e._v("close")]),e._v(" "),o("div",{staticClass:"my-3"},[e._v("変更したい線形(軌跡の形状)を選択してください。")]),e._v(" "),o("v-btn-toggle",{attrs:{tile:"",color:"deep-purple accent-3",group:""},model:{value:e.changedRouterTypeId,callback:function(t){e.changedRouterTypeId=t},expression:"changedRouterTypeId"}},e._l(e.routerTypes,(function(t){return o("v-btn",{key:t.id,attrs:{value:t.id},on:{click:function(o){return e.onChangeRouterType(t)}}},[e._v(e._s(t.name))])})),1)],1)],1),e._v(" "),o("RelationPropertiesEditDialog",{attrs:{relation:e.editTargetRelation},on:{onUpdateRelationProperties:e.onUpdateRelationProperties,onClose:e.onClosePropertiesEditor}})],1)}),[],!1,null,"90953248",null);t.default=component.exports;P()(component,{VBottomSheet:E.a,VBtn:w.a,VBtnToggle:T.a,VList:x.a,VListItem:D.a,VListItemTitle:_.b,VMenu:I.a,VSheet:S.a})},732:function(e,t,o){"use strict";o(698)},733:function(e,t,o){var n=o(26)(!1);n.push([e.i,".canvas-container[data-v-0a21de48]{width:100%;height:100%;min-width:0;overflow:auto;text-align:left}.diagram-canvas[data-v-0a21de48]{width:1px;height:1px;margin:0;border-radius:5px;filter:drop-shadow(10px 10px 10px rgba(0,0,0,.6));position:relative}",""]),e.exports=n},738:function(e,t,o){"use strict";o.r(t);o(31),o(48),o(54),o(43),o(17),o(66),o(80),o(42);var n=o(5),r=o(6),c=o(10),l=o(9),d=o(7),f=o(20),v=(o(18),o(14),o(32),o(60),o(22),o(25),o(61),o(50),o(92),o(35),o(44)),h=o(728),y=o(729),m=o(696),C=(o(281),o(744),o(745),o(747),o(232)),R=o.n(C),O=o(1),k=o.n(O),j=o(46),P=o(3),E=o(149),w=o(49),T=o(290),x=o(695),D=o(288),_=o(684);function I(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return S(e,t)}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return c=e.done,e},e:function(e){l=!0,r=e},f:function(){try{c||null==o.return||o.return()}finally{if(l)throw r}}}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(l.a)(this,o)}}var B=function(e,t,o,desc){var n,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(r<3?n(c):r>3?n(t,o,c):n(t,o))||c);return r>3&&c&&Object.defineProperty(t,o,c),c},V=function(e){Object(c.a)(o,e);var t=M(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).routerConverter=new x.default,e.canvasZoom=1,e.canvasGuideType=w.default.なし,e.lastResourcesOnCurrentProductCount=0,e.visibleConnectorMenu=!1,e.targetRelation=null,e.menuX=0,e.menuY=0,e.editResourceId=0,e.editResourceType=null,e.dropXOnCanvas=0,e.dropYOnCanvas=0,e}return Object(r.a)(o,[{key:"onUpdateResources",value:function(){}},{key:"onMergePlacement",value:function(e){}},{key:"onOpendDiagramPropertiesEditor",value:function(e){}},{key:"onShowWarnBar",value:function(text){}},{key:"onUpdatedDiagramProperties",value:function(){if(this.diagramId===this.lastPropertiesUpdatedDiagramId){var e=this.repository.getCurrentProduct().diagrams.of(this.diagramId);if(e){var t=this.canvas;t.getWidth()===e.width&&t.getHeight()===e.height||(this.reverceSyncCavansDeleteThings(),this.canvas.setDimension(e.width,e.height),this.onMergePlacement(e.placements),this.onChangeZoomBySlider(this.canvasZoom+.001))}}}},{key:"onChangeAllResourcesOnCurrentProduct",value:function(){var e=this.allResourcesOnCurrentProduct.length<this.lastResourcesOnCurrentProductCount;this.lastResourcesOnCurrentProductCount=this.allResourcesOnCurrentProduct.length,e&&this.reverceSyncCavansDeleteThings()}},{key:"onChangeUsedResouceIds",value:function(){this.reverceSyncCavansDeleteThings()}},{key:"created",value:function(){var e;(null===(e=this.product)||void 0===e?void 0:e.diagrams.of(this.diagramId))&&(this.canvasId="canvas"+this.diagramId,this.lastResourcesOnCurrentProductCount=this.allResourcesOnCurrentProduct.length)}},{key:"mounted",value:function(){var e=this;this.$nuxt.$loading.start(),this.$nextTick((function(){var t,o=null===(t=e.product)||void 0===t?void 0:t.diagrams.of(e.diagramId);o&&(e.showCanvas(),e.fixCanvasPosition(),e.addCanvasEvent(),e.drawDiagram(o),e.onChangeCanvasGuideType(o.canvasGuideType),e.$nuxt.$loading.finish())}))}},{key:"showWarnBar",value:function(text){this.onShowWarnBar(text)}},{key:"onDeleteRelation",value:function(e){var t=this.canvas.getLine(e.id);this.canvas.remove(t),this.transactionOf2((function(t,o){return t.removeRelationsOf([e.id])}))}},{key:"onUpdateRelation",value:function(e){var t=this.canvas.getLine(e.id);if(t){var o=this.routerConverter.makeRouterBy(e.routerType);t.setRouter(o),t.getChildren().asArray().forEach((function(e){return t.remove(e)})),this.addConnectionLabel(t,e),this.transactionOf2((function(t,o){return t.modifyRelationOf(e)}))}}},{key:"onChangeZoomBySlider",value:function(e){this.canvas.setZoom(e,!1)}},{key:"onChangeCanvasGuideType",value:function(e){var canvas=this.canvas,t=this.canvasGuideType;t.canvasPolicy&&canvas.uninstallEditPolicy(t.canvasPolicy),e.canvasPolicy&&canvas.installEditPolicy(e.canvasPolicy),canvas.setZoom(canvas.getZoom()-.001,!1),this.canvasGuideType=e}},{key:"onPngDownload",value:function(){var e=this,t=this.repository.getCurrentProduct().diagrams.of(this.diagramId);if(t){var o=this.makeDownloadFileName(t,"png");(new R.a.io.png.Writer).marshal(this.canvas,(function(t){e.clientDownloadRepository.registerBase64PngImage(t,o)}))}}},{key:"onSvgDownload",value:function(){var e=this,t=this.repository.getCurrentProduct().diagrams.of(this.diagramId);if(t){var o=this.makeDownloadFileName(t,"svg");(new R.a.io.svg.Writer).marshal(this.canvas,(function(svg){var t=e.includeWebFont(svg),n=new T.a(o,"image/svg+xml",t);e.clientDownloadRepository.register(n)}))}}},{key:"onUpdatedResource",value:function(e){this.addPlacement(e),this.onUpdateResources()}},{key:"onCloseResourceEditor",value:function(){this.editResourceId=0}},{key:"onZoomChangeFromCanvas",value:function(e,t){this.canvasZoom=t.value}},{key:"onDropCanvas",value:function(e){var t;e.preventDefault();var o=this.canvas.getZoom();o=isFinite(o)?Number(o):1,this.dropXOnCanvas=e.offsetX*o,this.dropYOnCanvas=e.offsetY*o;var n=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text");if(n){var r,c=parseInt(n,10);if(c<0){var l=P.a.ofId(-1*c);this.showResourcePropertiesEditor(l)}else{var d=this.repository.getCurrentProduct();d.diagrams.of(this.diagramId)&&(r=d.resources.of(c))&&this.addPlacement(r)}}}},{key:"onDropOverCanvas",value:function(e){e.preventDefault()}},{key:"onCanvasCommandExecute",value:function(e){var t=this;if(e.isPostChangeEvent()){var o=e.getCommand(),n=this.eventAnalyzer.analyze(o);n.isNothing()||this.transactionOf2((function(e,o){return n.validate(e,o,t)?n.apply(e,o,t):null}))}}},{key:"showCanvas",value:function(){var canvas=new R.a.Canvas(this.canvasId,j.a.MAX_WIDTH,j.a.MAX_HEIGHT);canvas.installEditPolicy(new R.a.policy.canvas.CoronaDecorationPolicy),canvas.installEditPolicy(new R.a.policy.canvas.ShowGridEditPolicy(-1)),canvas.installEditPolicy(new R.a.policy.canvas.ExtendedKeyboardPolicy),this.canvas=canvas}},{key:"onClickConnectorOnCanvas",value:function(e,t){var canvas=this.canvas,o=canvas.getBestFigure(e,t,[],[]);if(o){var n=this.repository.getCurrentProduct();if(n){var r=n.diagrams.of(this.diagramId);if(r){var c=r.relationOf(o.id);if(c){var l=canvas.getZoom(),d=canvas.getAbsoluteX()+e/l,f=canvas.getAbsoluteY()+t/l;this.showConnectorRightClickMenu(c,d,f)}}}}}},{key:"drawDiagram",value:function(e){var t=this;e.placements.forEach((function(p){return t.usedResouceIds.push(p.resourceId)})),this.canvas.setDimension(e.width,e.height);var o,n=I(e.placements);try{for(n.s();!(o=n.n()).done;){var r=o.value,c=this.findResource(r.resourceId);c&&this.addResouceIconToCanvas(c,r)}}catch(e){n.e(e)}finally{n.f()}var l,d=I(e.relations);try{for(d.s();!(l=d.n()).done;){var f=l.value;this.addConnection(f)}}catch(e){d.e(e)}finally{d.f()}}},{key:"findResource",value:function(e){var t=this.allResourcesOnCurrentProduct.find((function(t){return t.resourceId===e}));return t||null}},{key:"addResouceIconToCanvas",value:function(e,t){var o=e.type,n=this.choiceIconGenerator(o);if(n){var r=n.generate(t,e,this.iconStyleOf(o));this.canvas.add(r),this.fixZOrder(r)}else alert("ジェネレータ無しアイコン生成不能:"+o.name)}},{key:"fixZOrder",value:function(e){var t=this.canvas.getFigures().asArray(),o=t.find((function(i){return i.getId()===e.getId()}));if(o&&this.isAreaIcon(o)){var n,r=null,c=I(t);try{for(c.s();!(n=c.n()).done;){var figure=n.value;figure.getId()!==o.getId()&&(r&&(this.isAreaIcon(figure)||r.getZOrder()<figure.getZOrder())||(r=figure))}}catch(e){c.e(e)}finally{c.f()}r&&o.toBack(r)}}},{key:"isAreaIcon",value:function(e){return!!e.getUserData()&&!!e.getUserData().area}},{key:"choiceIconGenerator",value:function(e){var t=this.iconGenerators.find((function(g){return g.resourceType().equals(e)}));return t||null}},{key:"addConnection",value:function(e){var canvas=this.canvas,t=new R.a.Connection({id:e.id}),o=(canvas.getFigure(String(e.fromResourceId)),canvas.getFigure(String(e.toResourceId)),this.getPort(e.fromResourceId,canvas,!0));o&&t.setSource(o);var n=this.getPort(e.toResourceId,canvas,!1);n&&t.setTarget(n);var r=E.a.ofId(e.routerTypeId);r||(r=E.a.DIRECT),t.setRouter(this.routerConverter.makeRouterBy(r)),t.onContextMenu=this.onClickConnectorOnCanvas,this.addConnectionLabel(t,e),this.decorateWhenFlow(e,t),canvas.add(t)}},{key:"getPort",value:function(e,canvas,t){var o=canvas.getFigure(String(e));if(!o)return null;var n=t?"draw2d.OutputPort":"draw2d.InputPort",r=o.getPorts(!1).asArray().find((function(e){return e.NAME===n||"draw2d.HybridPort"===e.NAME}));return r||null}},{key:"addConnectionLabel",value:function(e,t){if(0!==t.meaning.length){var label=new R.a.shape.basic.Label({text:t.meaning,stroke:0,padding:0,alpha:.75,bgColor:"#ffffff"});e.add(label,new R.a.layout.locator.ParallelMidpointLocator)}}},{key:"showConnectorRightClickMenu",value:function(e,t,o){var n=this;this.visibleConnectorMenu=!1,this.targetRelation=e,this.menuX=t,this.menuY=o,this.$nextTick((function(){n.visibleConnectorMenu=!0}))}},{key:"iconStyleOf",value:function(e){return this.iconMap[e.iconKey]}},{key:"reverceSyncCavansDeleteThings",value:function(){var e=this.repository.getCurrentProduct().diagrams.of(this.diagramId),canvas=this.canvas;canvas.getLines().each((function(i,line){e.existsRelationId(line.id.toString())||canvas.remove(line)})),canvas.getFigures().each((function(i,figure){var t=Number(figure.id);e.existsPlacementId(t)||canvas.remove(figure)}))}},{key:"confirmResourceDelete",value:function(e,t){if(0===t.relationIdsOfDeleteTargetResouce(e).length)return!0;return confirm("選択された要素には、他の要素への関連があります。それらを含め削除してよろしいですか。")}},{key:"makeDownloadFileName",value:function(e,t){var o=e.name.replace(" ","-").replace("　","＿"),n=k()().format("YYYYMMDDHHmmss");return"rdram-".concat(e.id,"-").concat(o,"-").concat(n,".").concat(t)}},{key:"includeWebFont",value:function(e){return e.replace("<defs","<defs><style type='text/css'>@import url('https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css');</style></defs><defs")}},{key:"showResourcePropertiesEditor",value:function(e){this.editResourceType=e,this.editResourceId=_.default.ID_WHEN_CREATE_NEW}},{key:"decorateWhenFlow",value:function(e,t){this.isFlowRelation(e)&&this.arrowDocorate(t)}},{key:"isFlowRelation",value:function(e){var t=this.findResource(e.fromResourceId),o=this.findResource(e.toResourceId);return!(!t||!o)&&D.a.of(e,t,o).isFlowRelation()}},{key:"arrowDocorate",value:function(e){var t=new R.a.decoration.connection.ArrowDecorator;t.setBackgroundColor(e.getColor()),e.setTargetDecorator(t)}},{key:"fixCanvasPosition",value:function(){var e,svg=null===(e=document.getElementById(this.canvasId))||void 0===e?void 0:e.firstChild;svg.style.removeProperty("position"),svg.addEventListener("drop",this.onDropCanvas),svg.addEventListener("dragover",this.onDropOverCanvas),svg.oncontextmenu=function(){return!1}}},{key:"addCanvasEvent",value:function(){this.canvas.getCommandStack().addEventListener(this.onCanvasCommandExecute),this.canvas.on("zoom",this.onZoomChangeFromCanvas)}},{key:"addPlacement",value:function(e){var t=this.repository.getCurrentProduct(),o=t.diagrams.of(this.diagramId);if(t&&o){var n=o.createPlacement(e,this.dropXOnCanvas,this.dropYOnCanvas),r=o.addPlacement(n),c=t.replaceOf(r);this.addResouceIconToCanvas(e,n),this.repository.registerCurrentProduct(c),this.onMergePlacement(r.placements)}}},{key:"transactionOf",value:function(e){var t=this.repository.getCurrentProduct(),o=t.diagrams.of(this.diagramId);if(o){var n=e(o,this.product);this.onMergePlacement(o.placements),n&&this.repository.registerCurrentProduct(t)}}},{key:"transactionOf2",value:function(e){var t=this.repository.getCurrentProduct(),o=t.diagrams.of(this.diagramId);if(o){var n=e(o,t);if(null!==n){this.onMergePlacement(n.placements);var r=t.replaceOf(n);this.repository.registerCurrentProduct(r)}}}}]),o}(v.Vue);B([Object(v.Prop)({required:!0})],V.prototype,"diagramId",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"product",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"usedResouceIds",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"allResourcesOnCurrentProduct",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"lastPropertiesUpdatedDiagramId",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"iconMap",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"eventAnalyzer",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"iconGenerators",void 0),B([Object(v.Inject)()],V.prototype,"repository",void 0),B([Object(v.Inject)()],V.prototype,"clientDownloadRepository",void 0),B([Object(v.Emit)("onUpdateResources")],V.prototype,"onUpdateResources",null),B([Object(v.Emit)("onMergePlacement")],V.prototype,"onMergePlacement",null),B([Object(v.Emit)("onOpendDiagramPropertiesEditor")],V.prototype,"onOpendDiagramPropertiesEditor",null),B([Object(v.Emit)("onShowWarnBar")],V.prototype,"onShowWarnBar",null),B([Object(v.Watch)("lastPropertiesUpdatedDiagramId")],V.prototype,"onUpdatedDiagramProperties",null),B([Object(v.Watch)("allResourcesOnCurrentProduct.length")],V.prototype,"onChangeAllResourcesOnCurrentProduct",null),B([Object(v.Watch)("usedResouceIds")],V.prototype,"onChangeUsedResouceIds",null);var N=V=B([Object(v.Component)({components:{CanvasSettingToolBar:h.default,ConnectorRightClickMenuAndEditor:y.default,ResourceEditDialog:m.default}})],V),A=(o(732),o(86)),component=Object(A.a)(N,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"convasContainer",staticClass:"canvas-container"},[o("div",{staticClass:"diagram-canvas",attrs:{id:e.canvasId}}),e._v(" "),o("CanvasSettingToolBar",{attrs:{diagramId:e.diagramId,canvasZoom:e.canvasZoom,canvasGuideType:e.canvasGuideType},on:{onChangeZoomBySlider:e.onChangeZoomBySlider,onChangeCanvasGuideType:e.onChangeCanvasGuideType,onPngDownload:e.onPngDownload,onSvgDownload:e.onSvgDownload,onOpendDiagramPropertiesEditor:e.onOpendDiagramPropertiesEditor}}),e._v(" "),o("ConnectorRightClickMenuAndEditor",{attrs:{visibleConnectorRightClickMenu:e.visibleConnectorMenu,relation:e.targetRelation,menuPositionX:e.menuX,menuPositionY:e.menuY},on:{onUpdateRelation:e.onUpdateRelation,onDeleteRelation:e.onDeleteRelation}}),e._v(" "),o("ResourceEditDialog",{attrs:{resourceId:e.editResourceId,resourceType:e.editResourceType},on:{onUpdatedResource:e.onUpdatedResource,onClose:e.onCloseResourceEditor}})],1)}),[],!1,null,"0a21de48",null);t.default=component.exports;installComponents(component,{ResourceEditDialog:o(696).default})},788:function(e,t,o){var content=o(789);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("01907af4",content,!0,{sourceMap:!1})},789:function(e,t,o){var n=o(26)(!1);n.push([e.i,".theme--light.v-btn-toggle:not(.v-btn-toggle--group){background:#fff;color:rgba(0,0,0,.87)}.theme--light.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn{border-color:rgba(0,0,0,.12)!important}.theme--light.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn:focus:not(:active){border-color:rgba(0,0,0,.26)}.theme--light.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn .v-icon{color:#000}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group){background:#1e1e1e;color:#fff}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn{border-color:hsla(0,0%,100%,.12)!important}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn:focus:not(:active){border-color:hsla(0,0%,100%,.3)}.theme--dark.v-btn-toggle:not(.v-btn-toggle--group) .v-btn.v-btn .v-icon{color:#fff}.v-btn-toggle{border-radius:4px;display:inline-flex;max-width:100%}.v-btn-toggle>.v-btn.v-btn{border-radius:0;border-style:solid;border-width:thin;box-shadow:none;opacity:.8;padding:0 12px}.v-application--is-ltr .v-btn-toggle>.v-btn.v-btn:first-child{border-top-left-radius:inherit;border-bottom-left-radius:inherit}.v-application--is-ltr .v-btn-toggle>.v-btn.v-btn:last-child,.v-application--is-rtl .v-btn-toggle>.v-btn.v-btn:first-child{border-top-right-radius:inherit;border-bottom-right-radius:inherit}.v-application--is-rtl .v-btn-toggle>.v-btn.v-btn:last-child{border-top-left-radius:inherit;border-bottom-left-radius:inherit}.v-btn-toggle>.v-btn.v-btn--active{color:inherit;opacity:1}.v-btn-toggle>.v-btn.v-btn:after{display:none}.v-application--is-ltr .v-btn-toggle>.v-btn.v-btn:not(:first-child),.v-application--is-rtl .v-btn-toggle>.v-btn.v-btn:not(:last-child){border-left-width:0}.v-btn-toggle .v-btn.v-btn.v-size--default{min-width:48px;min-height:0}.v-btn-toggle:not(.v-btn-toggle--dense) .v-btn.v-btn.v-size--default{height:48px}.v-btn-toggle--borderless>.v-btn.v-btn{border-width:0}.v-btn-toggle--dense>.v-btn.v-btn{padding:0 8px}.v-btn-toggle--group{border-radius:0}.v-btn-toggle--group>.v-btn.v-btn{background-color:transparent!important;border-color:transparent;margin:4px;min-width:auto}.v-btn-toggle--rounded{border-radius:24px}.v-btn-toggle--shaped{border-radius:24px 4px}.v-btn-toggle--tile{border-radius:0}",""]),e.exports=n},807:function(e,t,o){var content=o(808);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("1d31a8d0",content,!0,{sourceMap:!1})},808:function(e,t,o){var n=o(26)(!1);n.push([e.i,".bottom-sheet-transition-enter,.bottom-sheet-transition-leave-to{transform:translateY(100%)}.v-bottom-sheet.v-dialog{align-self:flex-end;border-radius:0;flex:0 1 auto;margin:0;overflow:visible}.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:70%}@media only screen and (max-width:599px){.v-bottom-sheet.v-dialog.v-bottom-sheet--inset{max-width:none}}",""]),e.exports=n},831:function(e,t,o){"use strict";o(19),o(17),o(11),o(18),o(14),o(21);var n=o(2),r=(o(788),o(178)),c=r.a.extend({name:"button-group",provide:function(){return{btnToggle:this}},computed:{classes:function(){return r.a.options.computed.classes.call(this)}},methods:{genData:r.a.options.methods.genData}}),l=o(30),d=o(8);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=Object(d.a)(c,l.a).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return v(v({},c.options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var data=this.setTextColor(this.color,v({},c.options.methods.genData.call(this)));return this.group?data:this.setBackgroundColor(this.backgroundColor,data)}}})},836:function(e,t,o){"use strict";o(19),o(17),o(11),o(18),o(14),o(21);var n=o(2),r=(o(32),o(807),o(663));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a=r.a.extend({name:"v-bottom-sheet",props:{inset:Boolean,maxWidth:{type:[String,Number],default:"auto"},transition:{type:String,default:"bottom-sheet-transition"}},computed:{classes:function(){return l(l({},r.a.options.computed.classes.call(this)),{},{"v-bottom-sheet":!0,"v-bottom-sheet--inset":this.inset})}}})}}]);