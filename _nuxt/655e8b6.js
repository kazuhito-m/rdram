(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{691:function(e,t,o){var content=o(713);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("3a9e3d91",content,!0,{sourceMap:!1})},694:function(e,t,o){var content=o(727);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(27).default)("4d49831c",content,!0,{sourceMap:!1})},712:function(e,t,o){"use strict";o(691)},713:function(e,t,o){var n=o(26)(!1);n.push([e.i,".zoom-slider[data-v-3838a836]{width:250px;height:35px}.zoom-parsentage[data-v-3838a836]{height:35px}",""]),e.exports=n},719:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),l=o(10),c=o(9),v=o(7),d=o(20),f=(o(18),o(32),o(44));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(c.a)(this,o)}}var m=function(e,t,o,desc){var n,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(r<3?n(l):r>3?n(t,o,l):n(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l},y=function(e){Object(l.a)(o,e);var t=h(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).zoomPercentage=100,e.MAX=200,e.MIN=20,e.INCREMENTAL=10,e}return Object(r.a)(o,[{key:"onChangeZoomBySlider",value:function(e){}},{key:"canvasZoomToSlider",value:function(e){this.zoomPercentage=100/e}},{key:"onChangeCanvasZoom",value:function(){this.canvasZoomToSlider(this.canvasZoom)}},{key:"onChangeSliderValue",value:function(){if(isFinite(this.zoomPercentage)){var base=Number(this.zoomPercentage),e=base;if(base<this.MIN&&(e=this.MIN),base>this.MAX&&(e=this.MAX),base===e){var t=100/e;this.onChangeZoomBySlider(t)}else this.zoomPercentage=e}}},{key:"onClickZoomOut",value:function(){this.zoomPercentage=this.zoomPercentage-this.INCREMENTAL||this.MIN}},{key:"onClickZoomIn",value:function(){this.zoomPercentage=this.zoomPercentage+this.INCREMENTAL||this.MAX}}]),o}(f.Vue);m([Object(f.Prop)({required:!0})],y.prototype,"canvasZoom",void 0),m([Object(f.Emit)("onChangeZoomBySlider")],y.prototype,"onChangeZoomBySlider",null),m([Object(f.Watch)("canvasZoom")],y.prototype,"onChangeCanvasZoom",null),m([Object(f.Watch)("zoomPercentage")],y.prototype,"onChangeSliderValue",null);var C=y=m([f.Component],y),k=(o(712),o(86)),O=o(79),B=o.n(O),P=o(835),component=Object(k.a)(C,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-slider",{staticClass:"zoom-slider",attrs:{dence:"","append-icon":"mdi-magnify-plus-outline","prepend-icon":"mdi-magnify-minus-outline",max:e.MAX,min:e.MIN},on:{"click:append":e.onClickZoomIn,"click:prepend":e.onClickZoomOut},model:{value:e.zoomPercentage,callback:function(t){e.zoomPercentage=e._n(t)},expression:"zoomPercentage"}})}),[],!1,null,"3838a836",null);t.default=component.exports;B()(component,{VSlider:P.a})},726:function(e,t,o){"use strict";o(694)},727:function(e,t,o){var n=o(26)(!1);n.push([e.i,".canvas-float-toolbar{width:500px;left:2%;top:-10%;display:block;z-index:2;transition:none;position:absolute}",""]),e.exports=n},728:function(e,t,o){"use strict";o.r(t);o(31);var n=o(5),r=o(6),l=o(10),c=o(9),v=o(7),d=o(20),f=(o(18),o(50),o(92),o(11),o(25),o(42),o(106)),h=o(748),m=o(719),y=o(49);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n=Object(v.a)(e);if(t){var r=Object(v.a)(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return Object(c.a)(this,o)}}var k=function(e,t,o,desc){var n,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,o):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(l=(r<3?n(l):r>3?n(t,o,l):n(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l},O=function(e){Object(l.a)(o,e);var t=C(o);function o(){var e;return Object(n.a)(this,o),(e=t.apply(this,arguments)).TOOLBAR_PADDING=10,e.toolBarCollapse=!1,e.dragStartLayerX=0,e.dragStartLayerY=0,e.lastContainerWidth=0,e.lastContainerHeight=0,e}return Object(r.a)(o,[{key:"onChangeCanvasGuideType",value:function(e){}},{key:"onPngDownload",value:function(){}},{key:"onSvgDownLoad",value:function(){}},{key:"onOpendDiagramPropertiesEditor",value:function(e){}},{key:"created",value:function(){this.toolBarId="toolBar"+this.diagramId}},{key:"mounted",value:function(){var e=this.getCanvasContainer();e&&(e.addEventListener("dragover",this.onDragOverToolBar),e.addEventListener("drop",this.onDropToolBar),this.addResizeListenerCanvasContainer(),this.moveToolBarOnFirstPosition())}},{key:"onChangeZoom",value:function(e){this.onChangeZoomParent(e)}},{key:"onChangeZoomParent",value:function(e){}},{key:"onResizeEditorPain",value:function(e){if(0!==e[0].target.clientHeight){var t=this.getToolBarElement();if(t){var o=e[0].target,n=o.clientWidth-this.lastContainerWidth,r=o.clientHeight-this.lastContainerHeight,l=t.offsetLeft+n,c=t.offsetTop+r;this.fixAreaOverToolBar(l,c,t),this.lastContainerWidth=o.clientWidth,this.lastContainerHeight=o.clientHeight}}}},{key:"onDblClickZoomPercentage",value:function(){this.onChangeZoomParent(1)}},{key:"addResizeListenerCanvasContainer",value:function(){var e=this.getCanvasContainer();e&&new h.ResizeObserver(this.onResizeEditorPain).observe(e)}},{key:"moveToolBarOnFirstPosition",value:function(){var e=this.getToolBarElement(),t=this.getCanvasContainer();if(t){this.lastContainerWidth=t.clientWidth,this.lastContainerHeight=t.clientHeight;var o=this.TOOLBAR_PADDING,n=(t.offsetHeight,t.clientHeight,t.clientWidth-e.offsetWidth-o),r=t.clientHeight-e.offsetHeight-o,style=e.style;style.left="".concat(n,"px"),style.top="".concat(r,"px")}}},{key:"onMouseDownToolBar",value:function(e){this.dragStartLayerX=e.layerX,this.dragStartLayerY=e.layerY}},{key:"onDragStartToolBar",value:function(e){var t;null===(t=e.dataTransfer)||void 0===t||t.setData("text",this.toolBarId)}},{key:"onDragOverToolBar",value:function(e){null==e||e.preventDefault()}},{key:"onDropToolBar",value:function(e){var t;if((null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))===this.toolBarId){var o=this.getToolBarElement(),n=this.getCanvasContainer();if(o&&n){var r=n.getBoundingClientRect(),l=e.pageX-r.left,c=e.pageY-r.top,v=l-this.dragStartLayerX,d=c-this.dragStartLayerY;this.fixAreaOverToolBar(v,d,o),e.preventDefault()}}}},{key:"fixAreaOverToolBar",value:function(e,t,o){var n=this.getCanvasContainer();if(n){var r=o.offsetWidth,l=o.offsetHeight;e+r-n.clientWidth>0&&(e=n.clientWidth-r),e<0&&(e=0),t+l-n.clientHeight>0&&(t=n.clientHeight-l),t<0&&(t=0);var style=o.style;style.left="".concat(e,"px"),style.top="".concat(t,"px")}}},{key:"onClickBarCollapseToggle",value:function(){var e=this,t=this.getToolBarElement(),o=t.offsetWidth;this.toolBarCollapse=!this.toolBarCollapse,this.$nextTick((function(){var n=t.offsetLeft+o-t.offsetWidth,r=parseInt(t.style.top.replace(/px$/,""));e.fixAreaOverToolBar(n,r,t)}))}},{key:"calcZoomPercentage",value:function(){return"".concat(Math.floor(100/this.canvasZoom),"%")}},{key:"canvasGuideTypes",value:function(){var e=this;return y.default.values().filter((function(t){return!t.equals(e.canvasGuideType)}))}},{key:"onClickChangeCanvasGuideType",value:function(e){this.onChangeCanvasGuideType(e)}},{key:"onClickSvgDownload",value:function(){this.onSvgDownLoad()}},{key:"onClickEditDiagramProperties",value:function(){this.onOpendDiagramPropertiesEditor(this.diagramId)}},{key:"getToolBarElement",value:function(){return document.getElementById(this.toolBarId)}},{key:"getEditorPain",value:function(){var e=this.getToolBarElement().parentElement;return e||null}},{key:"getCanvasContainer",value:function(){var e=this.$parent.$el;return e||null}}]),o}(f.Vue);k([Object(f.Prop)({required:!0})],O.prototype,"diagramId",void 0),k([Object(f.Prop)({required:!0})],O.prototype,"canvasZoom",void 0),k([Object(f.Prop)({required:!0})],O.prototype,"canvasGuideType",void 0),k([Object(f.Emit)("onChangeCanvasGuideType")],O.prototype,"onChangeCanvasGuideType",null),k([Object(f.Emit)("onPngDownload")],O.prototype,"onPngDownload",null),k([Object(f.Emit)("onSvgDownload")],O.prototype,"onSvgDownLoad",null),k([Object(f.Emit)("onOpendDiagramPropertiesEditor")],O.prototype,"onOpendDiagramPropertiesEditor",null),k([Object(f.Emit)("onChangeZoomBySlider")],O.prototype,"onChangeZoomParent",null);var B=O=k([Object(f.Component)({components:{CanvasZoomSlider:m.default}})],O),P=(o(726),o(86)),T=o(79),_=o.n(T),D=o(294),j=o(264),E=o(266),Z=o(268),R=o(163),S=o(90),x=o(274),w=o(674),I=o(85),component=Object(P.a)(B,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-toolbar",{staticClass:"canvas-float-toolbar",attrs:{id:e.toolBarId,draggable:"",dense:"",floating:"",outlined:"",rounded:"",shaped:"",short:"",collapse:e.toolBarCollapse},on:{dragstart:e.onDragStartToolBar,mousedown:e.onMouseDownToolBar}},[o("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickEditDiagramProperties}},[o("v-icon",[e._v("mdi-content-save-edit-outline")])],1),e._v(" "),o("v-spacer"),e._v(" "),e.toolBarCollapse?e._e():o("v-card",[o("CanvasZoomSlider",{attrs:{canvasZoom:e.canvasZoom},on:{onChangeZoomBySlider:e.onChangeZoom}})],1),e._v(" "),e.toolBarCollapse?e._e():o("span",{on:{dblclick:function(t){return e.onDblClickZoomPercentage()}}},[e._v(e._s(e.calcZoomPercentage()))]),e._v(" "),e.toolBarCollapse?e._e():o("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[o("v-btn",e._g(e._b({attrs:{dark:"",small:"",icon:""}},"v-btn",r,!1),n),[o("v-icon",[e._v(e._s(e.canvasGuideType.iconKey))])],1)]}}],null,!1,3674894110)},[e._v(" "),o("v-list",e._l(e.canvasGuideTypes(),(function(t){return o("v-list-item",{key:t.iconKey,on:{click:function(o){return e.onClickChangeCanvasGuideType(t)}}},[o("v-list-item-title",[o("v-icon",[e._v(e._s(t.iconKey))]),e._v("\n          "+e._s(t.caption)+"\n        ")],1)],1)})),1)],1),e._v(" "),e.toolBarCollapse?e._e():o("v-btn",{attrs:{dark:"",small:"",icon:""}},[o("v-icon",{on:{click:e.onPngDownload}},[e._v("mdi-image")])],1),e._v(" "),e.toolBarCollapse?e._e():o("v-btn",{attrs:{dark:"",small:"",icon:""}},[o("v-icon",{on:{click:e.onClickSvgDownload}},[e._v("mdi-image-outline")])],1),e._v(" "),o("v-spacer"),e._v(" "),e.toolBarCollapse?e._e():o("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickBarCollapseToggle}},[o("v-icon",[e._v("mdi-arrow-collapse-horizontal")])],1),e._v(" "),e.toolBarCollapse?o("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickBarCollapseToggle}},[o("v-icon",[e._v("mdi-arrow-expand-horizontal")])],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;_()(component,{VBtn:D.a,VCard:j.a,VIcon:E.a,VList:Z.a,VListItem:R.a,VListItemTitle:S.b,VMenu:x.a,VSpacer:w.a,VToolbar:I.a})}}]);