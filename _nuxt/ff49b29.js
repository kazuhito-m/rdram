(window.webpackJsonp=window.webpackJsonp||[]).push([[18,57,58,73,76,79,80],{684:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(22),n(17),n(66),n(106)),h=n(685),y=n(3),m=n(62);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var R,O=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},k=R=function(e){Object(c.a)(n,e);var t=C(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).subTitle="",e.title="",e.iconKey="",e.firstCheck=!1,e.name="",e.description="",e}return Object(r.a)(n,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){}},{key:"changeConsent",value:function(e){}},{key:"onChangeResource",value:function(){this.resource&&this.onShow()}},{key:"onShow",value:function(){var e=this;this.changeConsent(!1),this.firstCheck=!0;var t=this.resource.type;this.title=this.isAddNew()?"".concat(t.name," の新規作成"):"".concat(this.resource.name," の設定"),this.subTitle=t.name,this.iconKey=t.iconKey,this.showProperties(this.resource),this.$nextTick((function(){e.showCustomProperties(e.resource),y.a.始点終点.equals(e.resource.type)&&(e.description+=" ")}))}},{key:"isAddNew",value:function(){return this.resource.resourceId===R.ID_WHEN_CREATE_NEW}},{key:"showProperties",value:function(e){this.name=e.name,this.description=e.description}},{key:"changed",value:function(){var e=this.resource;return e.name!==this.name||e.description!==this.description}},{key:"nameMaxLength",get:function(){return m.a.NAME_MAX_LENGTH}},{key:"descriptionMaxLength",get:function(){return m.a.DESCRIPTION_MAX_LENGTH}},{key:"validateName",value:function(){if(this.changeConsent(!1),this.firstCheck)return!(this.firstCheck=!1);var e=this.name;if(0===e.length)return"入力してください。";var t=this.nameMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.changeConsent(this.changed()),!0)}},{key:"validateDescription",value:function(){this.changeConsent(!1);var e=this.description,t=this.descriptionMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.changeConsent(this.changed()),!0)}},{key:"onClickUpdateExecute",value:function(){if(this.consent){var e=this.getInputResource();null!==e&&(this.onModifyResource(e),this.onClose())}}},{key:"getInputResource",value:function(){var e=this.resource.with(this.name,this.description);return this.logicalValidation(e)?e:null}},{key:"logicalValidation",value:function(e){return!this.resources.existsSomeName(e.name,e.type)||(alert("既に重複した名前の".concat(e.type.name,"が在ります。")),!1)}}]),n}(v.Vue);k.ID_WHEN_CREATE_NEW=-1,O([Object(v.Prop)({required:!0})],k.prototype,"resource",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"resources",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"consent",void 0),O([Object(v.Prop)()],k.prototype,"notFocusSetName",void 0),O([Object(v.Prop)()],k.prototype,"ignoreEscKey",void 0),O([Object(v.Prop)()],k.prototype,"ignoreEnterKey",void 0),O([Object(v.Prop)()],k.prototype,"dialogWidth",void 0),O([Object(v.Emit)("onModifyResource")],k.prototype,"onModifyResource",null),O([Object(v.Emit)("onClose")],k.prototype,"onClose",null),O([Object(v.Emit)("showCustomProperties")],k.prototype,"showCustomProperties",null),O([Object(v.Emit)("changeConsent")],k.prototype,"changeConsent",null),O([Object(v.Watch)("resource")],k.prototype,"onChangeResource",null);var P=k=R=O([Object(v.Component)({components:{PropertiesSettingDialog:h.default}})],k),j=n(86),D=n(79),w=n.n(D),E=n(774),x=n(676),I=n(775),_=n(125),T=n(813),component=Object(j.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PropertiesSettingDialog",{attrs:{id:e.resource,consent:e.consent,title:e.title,subTitle:e.subTitle,iconKey:e.iconKey,width:e.dialogWidth,ignoreEscKey:e.ignoreEscKey,ignoreEnterKey:e.ignoreEnterKey},on:{onClose:e.onClose,onClickOk:e.onClickUpdateExecute,onShow:e.onShow},scopedSlots:e._u([{key:"inputPart",fn:function(){return[n("v-container",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"名前",counter:"",autofocus:!e.notFocusSetName,rules:[e.validateName],maxlength:e.nameMaxLength},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1)],1),e._v(" "),e._t("customInputFields"),e._v(" "),n("v-row",[n("v-col",[n("v-textarea",{attrs:{counter:"",filled:"",label:"備考・メモ",rows:"2","no-resize":"",max:e.descriptionMaxLength,rules:[e.validateDescription]},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)],2)]},proxy:!0}],null,!0)})}),[],!1,null,"2f3fdaea",null);t.default=component.exports;w()(component,{PropertiesSettingDialog:n(685).default}),w()(component,{VCol:E.a,VContainer:x.a,VRow:I.a,VTextField:_.a,VTextarea:T.a})},685:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(106));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(c.a)(n,e);var t=h(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"onClose",value:function(){}},{key:"onClickOk",value:function(){}},{key:"onShow",value:function(){}},{key:"onChangeId",value:function(){this.id&&this.onShow()}},{key:"onKeyEsc",value:function(){this.ignoreEscKey||this.onClose()}},{key:"onKeyEnter",value:function(){this.ignoreEnterKey||this.onClickOk()}}]),n}(v.Vue);y([Object(v.Prop)({required:!0})],m.prototype,"id",void 0),y([Object(v.Prop)({required:!0})],m.prototype,"title",void 0),y([Object(v.Prop)()],m.prototype,"iconKey",void 0),y([Object(v.Prop)()],m.prototype,"consent",void 0),y([Object(v.Prop)()],m.prototype,"subTitle",void 0),y([Object(v.Prop)()],m.prototype,"width",void 0),y([Object(v.Prop)()],m.prototype,"ignoreEscKey",void 0),y([Object(v.Prop)()],m.prototype,"ignoreEnterKey",void 0),y([Object(v.Emit)("onClose")],m.prototype,"onClose",null),y([Object(v.Emit)("onClickOk")],m.prototype,"onClickOk",null),y([Object(v.Emit)("onShow")],m.prototype,"onShow",null),y([Object(v.Watch)("id")],m.prototype,"onChangeId",null);var C=m=y([v.Component],m),R=n(86),O=n(79),k=n.n(O),P=n(294),j=n(264),D=n(47),w=n(663),E=n(266),x=n(674),component=Object(R.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"","max-width":e.width,value:e.id},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onKeyEsc.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeyEnter.apply(null,arguments)}]}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[n("v-icon",[e._v(e._s(e.iconKey))]),e._v("\n      "+e._s(e.title)+"\n    ")],1),e._v(" "),n("v-card-subtitle",{staticClass:"text-right"},[e._v(e._s(e.subTitle))]),e._v(" "),n("v-card-text",[e._t("inputPart")],2),e._v(" "),n("v-card-actions",[n("v-spacer"),e._v(" "),n("v-btn",{attrs:{text:"",color:"normal"},on:{click:e.onClose}},[e._v("キャンセル")]),e._v(" "),n("v-btn",{attrs:{text:"",disabled:!e.consent,color:"primary"},on:{click:e.onClickOk}},[e._v("OK")])],1)],1)],1)}),[],!1,null,"6576dd9c",null);t.default=component.exports;k()(component,{VBtn:P.a,VCard:j.a,VCardActions:D.a,VCardSubtitle:D.b,VCardText:D.c,VCardTitle:D.d,VDialog:w.a,VIcon:E.a,VSpacer:x.a})},691:function(e,t,n){var content=n(713);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("3a9e3d91",content,!0,{sourceMap:!1})},692:function(e,t,n){var content=n(715);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("479762b0",content,!0,{sourceMap:!1})},693:function(e,t,n){var content=n(717);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("d6cf6c78",content,!0,{sourceMap:!1})},694:function(e,t,n){var content=n(727);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("4d49831c",content,!0,{sourceMap:!1})},695:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var o=n(5),r=n(6),c=n(149),l=n(232),d=n.n(l),f=function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:"makeRouterBy",value:function(e){if(e)return e.equals(c.a.MANHATTAN)?new d.a.layout.connection.ManhattanConnectionRouter:e.equals(c.a.CIRCUIT)?new d.a.layout.connection.CircuitConnectionRouter:e.equals(c.a.SPLINE)?new d.a.layout.connection.SplineConnectionRouter:void 0}},{key:"analyzeRouterType",value:function(e){if(!e)return c.a.DIRECT;var t=e.NAME;return t?"draw2d.layout.connection.ManhattanConnectionRouter"===t?c.a.MANHATTAN:"draw2d.layout.connection.CircuitConnectionRouter"===t?c.a.CIRCUIT:"draw2d.layout.connection.SplineConnectionRouter"===t?c.a.SPLINE:c.a.DIRECT:c.a.DIRECT}}]),e}()},696:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(32),n(106)),h=n(94),y=n(684),m=n(721),C=n(722),R=n(723),O=n(174),k=n(724),P=n(173),j=n(127),D=n(725);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var E=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},x=function(e){Object(c.a)(n,e);var t=w(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).latestResources=null,e.targetStandaerdResource=null,e.targetHasContentResource=null,e.targetVariation=null,e.targetCondition=null,e.targetTableTypeCondition=null,e}return Object(r.a)(n,[{key:"onUpdatedResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"onChangeResourceId",value:function(){this.resourceId&&(0!==Number(this.resourceId)&&this.onShow())}},{key:"onShow",value:function(){var e=this.loadResources();if(e){var t=this.getTargetResource(e);this.latestResources=e,t instanceof O.a?this.targetVariation=t:t instanceof P.a?this.targetCondition=t:t instanceof j.a?this.targetTableTypeCondition=t:t instanceof h.a?this.targetHasContentResource=t:this.targetStandaerdResource=t}}},{key:"onModifyStandardResource",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseStandardResourceEditDialog",value:function(){this.targetStandaerdResource=null,this.onClose()}},{key:"onModifyHasContentResource",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseHasContentResourceEditDialog",value:function(){this.targetHasContentResource=null,this.onClose()}},{key:"onModifyVariation",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseVariationEditDialog",value:function(){this.targetVariation=null,this.onClose()}},{key:"onModifyCondition",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseConditionEditDialog",value:function(){this.targetCondition=null,this.onClose()}},{key:"onModifyTableTypeCondition",value:function(e){var t=this.registerResoruce(e);this.onUpdatedResource(t)}},{key:"onCloseTableTypeConditionEditDialog",value:function(){this.targetTableTypeCondition=null,this.onClose()}},{key:"isAddNew",value:function(){return this.resourceId===y.default.ID_WHEN_CREATE_NEW}},{key:"getTargetResource",value:function(e){return this.isAddNew()?e.prototypeResourceOf(this.resourceType).renewId(y.default.ID_WHEN_CREATE_NEW):e.of(this.resourceId)}},{key:"loadResources",value:function(){var e,t=null===(e=this.repository)||void 0===e?void 0:e.getCurrentProduct();return t?t.resources:null}},{key:"registerResoruce",value:function(e){var t,n,o=null===(t=this.repository)||void 0===t?void 0:t.getCurrentProduct();if(!o)return e;var r=e;this.isAddNew()&&(r=r.renewId(o.resourceIdSequence),o=o.moveNextResourceIdSequence());var c=o.resources.meage(r);return o=o.withResources(c),null===(n=this.repository)||void 0===n||n.registerCurrentProduct(o),r}}]),n}(v.Vue);E([Object(v.Prop)({required:!0})],x.prototype,"resourceId",void 0),E([Object(v.Prop)({required:!0})],x.prototype,"resourceType",void 0),E([Object(v.Emit)("onUpdatedResource")],x.prototype,"onUpdatedResource",null),E([Object(v.Emit)("onClose")],x.prototype,"onClose",null),E([Object(v.Watch)("resourceId")],x.prototype,"onChangeResourceId",null),E([Object(v.Inject)()],x.prototype,"repository",void 0);var I=x=E([Object(v.Component)({components:{StandardResourceEditDialog:m.default,HasContentResourceEditDialog:C.default,VariationEditDialog:R.default,ConditionEditDialog:k.default,TableTypeConditionEditDialog:D.default}})],x),_=n(86),component=Object(_.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("StandardResourceEditDialog",{attrs:{resource:e.targetStandaerdResource,resources:e.latestResources},on:{onModifyResource:e.onModifyStandardResource,onClose:e.onCloseStandardResourceEditDialog}}),e._v(" "),n("HasContentResourceEditDialog",{attrs:{resource:e.targetHasContentResource,resources:e.latestResources},on:{onModifyResource:e.onModifyHasContentResource,onClose:e.onCloseHasContentResourceEditDialog}}),e._v(" "),n("VariationEditDialog",{attrs:{resource:e.targetVariation,resources:e.latestResources},on:{onModifyResource:e.onModifyVariation,onClose:e.onCloseVariationEditDialog}}),e._v(" "),n("ConditionEditDialog",{attrs:{resource:e.targetCondition,resources:e.latestResources},on:{onModifyResource:e.onModifyCondition,onClose:e.onCloseConditionEditDialog}}),e._v(" "),n("TableTypeConditionEditDialog",{attrs:{resource:e.targetTableTypeCondition,resources:e.latestResources},on:{onModifyResource:e.onModifyTableTypeCondition,onClose:e.onCloseTableTypeConditionEditDialog}})],1)}),[],!1,null,"240a6eba",null);t.default=component.exports},697:function(e,t,n){var content=n(731);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("40a43c99",content,!0,{sourceMap:!1})},698:function(e,t,n){var content=n(733);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("5e59e8f9",content,!0,{sourceMap:!1})},699:function(e,t,n){var content=n(735);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("3950c51e",content,!0,{sourceMap:!1})},705:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(50),n(175),n(92),n(106)),h=n(287);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},C=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).leftPainWidth=null,e}return Object(r.a)(n,[{key:"mounted",value:function(){this.defaultLeftPainWidth&&(this.$refs.leftPain.style.width=this.defaultLeftPainWidth)}},{key:"onDoubleClickSlideBar",value:function(){var e=this.$refs.leftPain.style;if(this.adsorptionLeftWhenDoubleClick){var t=this.$refs.rightPain.style;null===this.leftPainWidth?(t.display="none",this.leftPainWidth=e.width,e.width="100%",e.resize="none"):(t.display="inline",e.resize="horizontal",e.width=this.leftPainWidth,this.leftPainWidth=null)}else e.display="none"===e.display?"inline":"none"}},{key:"onDragStartMasterPainSlideBar",value:function(e){var t;this.dragId=h.a.generate(),null===(t=e.dataTransfer)||void 0===t||t.setData("text",this.dragId)}},{key:"onDragOverMasterPainSlideBar",value:function(e){null==e||e.preventDefault()}},{key:"onDropMasterPainSlideBar",value:function(e){var t;if(e.preventDefault(),(null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))===this.dragId){var style=this.$refs.leftPain.style,n=0;if(style.left){var o=style.left;o.match("px$")&&(n=parseInt(o.replace("px",""),10))}style.width=e.x-n+"px"}}}]),n}(v.Vue);m([Object(v.Prop)()],C.prototype,"adsorptionLeftWhenDoubleClick",void 0),m([Object(v.Prop)()],C.prototype,"defaultLeftPainWidth",void 0);var R=C=m([v.Component],C),O=(n(730),n(86)),k=n(79),P=n.n(k),j=n(852),component=Object(O.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{staticClass:"text-center"},[n("div",{staticClass:"pain-container",on:{dragover:e.onDragOverMasterPainSlideBar,drop:e.onDropMasterPainSlideBar}},[n("div",{ref:"leftPain",staticClass:"left-pain"},[e._t("leftPain")],2),e._v(" "),n("div",{staticClass:"slidebar",attrs:{id:"slideBar",draggable:"true"},on:{dblclick:e.onDoubleClickSlideBar,dragstart:e.onDragStartMasterPainSlideBar}}),e._v(" "),n("div",{ref:"rightPain",staticClass:"right-pain"},[e._t("rightPain")],2)])])}),[],!1,null,"3c1f481d",null);t.default=component.exports;P()(component,{VFlex:j.a})},706:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(25),n(754),n(43),n(755),n(756),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(770),n(42),n(36),n(176),n(14),n(35),n(22),n(50),n(92),n(106)),h=n(705),y=n(738),m=n(739);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},O=function(e){Object(c.a)(n,e);var t=C(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).usedResouceIds=[],e.iconMap={},e.warnBar=!1,e.warnMessage="",e}return Object(r.a)(n,[{key:"onUpdateResources",value:function(){}},{key:"onOpendDiagramPropertiesEditor",value:function(e){}},{key:"created",value:function(){this.product=this.getCurrentProduct();this.diagramId}},{key:"mounted",value:function(){var e=this.product.diagrams.of(this.diagramId);this.intializeIconCharMap(e)}},{key:"onShowWarnBar",value:function(text){this.warnMessage=text,this.warnBar=!0}},{key:"onDeleteResourceOnDiagram",value:function(e){var t=this.deleteResourceOnDiagram(e);t&&this.onMergePlacement(t.placements)}},{key:"onDeleteResourceOnProduct",value:function(e){this.deleteResourceOnProduct(e),this.onUpdateResources()}},{key:"onMergePlacement",value:function(e){for(var t=this.usedResouceIds,n=new Set(e.map((function(p){return p.resourceId}))),i=t.length-1;i>=0;i--){var o=t[i];n.has(o)?n.delete(o):t.splice(i,1)}n.forEach((function(e){return t.push(e)}))}},{key:"deleteResourceOnDiagram",value:function(e){var t=this.getCurrentProduct(),n=t.diagrams.of(this.diagramId),o=t.resources.of(e);if(!o)return null;if(!this.confirmResourceDelete([e],n))return null;var r=n.removeResouceOf(o),c=t.diagrams.meage(r),l=t.with(c);return this.repository.registerCurrentProduct(l),this.product=l,r}},{key:"confirmResourceDelete",value:function(e,t){if(0===t.relationIdsOfDeleteTargetResouce(e).length)return!0;return confirm("選択された要素には、他の要素への関連があります。それらを含め削除してよろしいですか。")}},{key:"getCurrentProduct",value:function(){return this.repository.getCurrentProduct()}},{key:"deleteResourceOnProduct",value:function(e){var t=this.getCurrentProduct(),n=t.resources.of(e);if(n){var o=t.diagrams.countOfUsingOf(n);if(o>0){var r="「".concat(n.name,"」は、現在 ").concat(o,"個 のダイアグラムで参照されています。\n")+"削除する場合、それらのダイアログのアイコンや関連のすべては削除されます。\n"+"".concat(n.name," を削除してもよろしいですか。");if(!window.confirm(r))return}var c=t.removeOf(n);this.repository.registerCurrentProduct(c),this.product=c}}},{key:"intializeIconCharMap",value:function(e){var t=this;e.availableResourceTypes().map((function(e){return e.iconKey})).forEach((function(i){return t.iconMap[i]=t.analyzeMdiIconCharOf(i)}))}},{key:"analyzeMdiIconCharOf",value:function(e){var t=document.getElementById(e),style=window.getComputedStyle(t,"::before"),content=style.content;return{fontFamily:style.fontFamily,charactor:content.replace(/"/g,"")}}},{key:"dumpDiagram",value:function(e,t){console.log("---- ".concat(t," Diagram情報 start ----")),e.placements.forEach((function(i){return console.log("位置;".concat(i.resourceId))})),e.relations.forEach((function(i){return console.log("線;".concat(i.id,", from:").concat(i.fromResourceId,", to:").concat(i.toResourceId))})),console.log("---- ".concat(t," Diagram情報 end ----"))}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"diagramId",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"allResourcesOnCurrentProduct",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"lastPropertiesUpdatedDiagramId",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"eventAnalyzer",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"iconGenerators",void 0),R([Object(v.Emit)("onUpdateResources")],O.prototype,"onUpdateResources",null),R([Object(v.Emit)("onOpendDiagramPropertiesEditor")],O.prototype,"onOpendDiagramPropertiesEditor",null),R([Object(v.Inject)()],O.prototype,"repository",void 0);var k=O=R([Object(v.Component)({components:{TwoPainWithSlideBarLayout:h.default,DiagramCanvas:y.default,ResourceParet:m.default}})],O),P=(n(740),n(86)),j=n(79),D=n.n(j),w=n(294),E=n(883),component=Object(P.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diagram-pain-container"},[n("TwoPainWithSlideBarLayout",{attrs:{adsorptionLeftWhenDoubleClick:"true",defaultLeftPainWidth:"80%"},scopedSlots:e._u([{key:"leftPain",fn:function(){return[n("DiagramCanvas",{attrs:{diagramId:e.diagramId,product:e.product,usedResouceIds:e.usedResouceIds,allResourcesOnCurrentProduct:e.allResourcesOnCurrentProduct,lastPropertiesUpdatedDiagramId:e.lastPropertiesUpdatedDiagramId,iconMap:e.iconMap,eventAnalyzer:e.eventAnalyzer,iconGenerators:e.iconGenerators},on:{onUpdateResources:e.onUpdateResources,onMergePlacement:e.onMergePlacement,onOpendDiagramPropertiesEditor:e.onOpendDiagramPropertiesEditor,onShowWarnBar:e.onShowWarnBar}})]},proxy:!0},{key:"rightPain",fn:function(){return[n("ResourceParet",{attrs:{diagramId:e.diagramId,allResourcesOnCurrentProduct:e.allResourcesOnCurrentProduct,usedResouceIds:e.usedResouceIds,product:e.product},on:{onDeleteResourceOnDiagram:e.onDeleteResourceOnDiagram,onDeleteResourceOnProduct:e.onDeleteResourceOnProduct}})]},proxy:!0}])}),e._v(" "),n("v-snackbar",{attrs:{timeout:"2000"},scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[n("v-btn",e._b({attrs:{color:"blue",text:""},on:{click:function(t){e.warnBar=!1}}},"v-btn",o,!1),[e._v("Close")])]}}]),model:{value:e.warnBar,callback:function(t){e.warnBar=t},expression:"warnBar"}},[e._v("\n    "+e._s(e.warnMessage)+"\n    ")])],1)}),[],!1,null,"9d44e614",null);t.default=component.exports;D()(component,{TwoPainWithSlideBarLayout:n(705).default}),D()(component,{VBtn:w.a,VSnackbar:E.a})},707:function(e,t,n){var content=n(741);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(27).default)("7303093e",content,!0,{sourceMap:!1})},712:function(e,t,n){"use strict";n(691)},713:function(e,t,n){var o=n(26)(!1);o.push([e.i,".zoom-slider[data-v-3838a836]{width:250px;height:35px}.zoom-parsentage[data-v-3838a836]{height:35px}",""]),e.exports=o},714:function(e,t,n){"use strict";n(692)},715:function(e,t,n){var o=n(26)(!1);o.push([e.i,".values-spread[data-v-e56dac4a]{color:#000}",""]),e.exports=o},716:function(e,t,n){"use strict";n(693)},717:function(e,t,n){var o=n(26)(!1);o.push([e.i,".values-spread-headless[data-v-3e835658]{color:#000}.values-spread-headless>div>table>tbody>tr>td[data-v-3e835658]{min-height:120px}",""]),e.exports=o},719:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(32),n(44));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(c.a)(n,e);var t=h(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).zoomPercentage=100,e.MAX=200,e.MIN=20,e.INCREMENTAL=10,e}return Object(r.a)(n,[{key:"onChangeZoomBySlider",value:function(e){}},{key:"canvasZoomToSlider",value:function(e){this.zoomPercentage=100/e}},{key:"onChangeCanvasZoom",value:function(){this.canvasZoomToSlider(this.canvasZoom)}},{key:"onChangeSliderValue",value:function(){if(isFinite(this.zoomPercentage)){var base=Number(this.zoomPercentage),e=base;if(base<this.MIN&&(e=this.MIN),base>this.MAX&&(e=this.MAX),base===e){var t=100/e;this.onChangeZoomBySlider(t)}else this.zoomPercentage=e}}},{key:"onClickZoomOut",value:function(){this.zoomPercentage=this.zoomPercentage-this.INCREMENTAL||this.MIN}},{key:"onClickZoomIn",value:function(){this.zoomPercentage=this.zoomPercentage+this.INCREMENTAL||this.MAX}}]),n}(v.Vue);y([Object(v.Prop)({required:!0})],m.prototype,"canvasZoom",void 0),y([Object(v.Emit)("onChangeZoomBySlider")],m.prototype,"onChangeZoomBySlider",null),y([Object(v.Watch)("canvasZoom")],m.prototype,"onChangeCanvasZoom",null),y([Object(v.Watch)("zoomPercentage")],m.prototype,"onChangeSliderValue",null);var C=m=y([v.Component],m),R=(n(712),n(86)),O=n(79),k=n.n(O),P=n(835),component=Object(R.a)(C,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-slider",{staticClass:"zoom-slider",attrs:{dence:"","append-icon":"mdi-magnify-plus-outline","prepend-icon":"mdi-magnify-minus-outline",max:e.MAX,min:e.MIN},on:{"click:append":e.onClickZoomIn,"click:prepend":e.onClickZoomOut},model:{value:e.zoomPercentage,callback:function(t){e.zoomPercentage=e._n(t)},expression:"zoomPercentage"}})}),[],!1,null,"3838a836",null);t.default=component.exports;k()(component,{VSlider:P.a})},720:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(25),n(42),n(106)),h=n(685),y=n(282),m=n(149);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},O=function(e){Object(c.a)(n,e);var t=C(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).consent=!1,e.title="関連 の設定",e.subTitle="関連",e.routerTypes=m.a.values(),e.meaning="",e.routerType=m.a.DIRECT,e}return Object(r.a)(n,[{key:"onUpdateRelationProperties",value:function(e){}},{key:"onClose",value:function(){}},{key:"onChangeRelation",value:function(){this.relation&&this.onShow()}},{key:"onShow",value:function(){this.relation&&(this.consent=!1,this.showProperties(this.relation))}},{key:"showProperties",value:function(e){this.meaning=e.meaning,this.routerType=e.routerType}},{key:"changed",value:function(){if(!this.relation)return!1;var e=this.relation;return e.meaning!==this.meaning||!e.routerType.equals(this.routerType)}},{key:"meaningMaxLength",get:function(){return y.a.MEANING_MAX_LENGTH}},{key:"validateMeaning",value:function(){this.consent=!1;var e=this.meaning,t=this.meaningMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.consent=this.changed(),!0)}},{key:"onClickUpdateExecute",value:function(){if(this.relation&&this.consent){var e=this.relation.with(this.meaning,this.routerType);this.onUpdateRelationProperties(e),this.onClose()}}},{key:"onChangeRouterType",value:function(e){this.routerType=e,this.consent=this.changed()}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"relation",void 0),R([Object(v.Emit)("onUpdateRelationProperties")],O.prototype,"onUpdateRelationProperties",null),R([Object(v.Emit)("onClose")],O.prototype,"onClose",null),R([Object(v.Watch)("relation")],O.prototype,"onChangeRelation",null);var k=O=R([Object(v.Component)({components:{PropertiesSettingDialog:h.default}})],O),P=n(86),j=n(79),D=n.n(j),w=n(294),E=n(831),x=n(774),I=n(676),_=n(775),T=n(125),component=Object(P.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PropertiesSettingDialog",{attrs:{id:e.relation,consent:e.consent,title:e.title,subTitle:e.subTitle,iconKey:"mdi-vector-line",width:"490"},on:{onClose:e.onClose,onClickOk:e.onClickUpdateExecute,onShow:e.onShow},scopedSlots:e._u([{key:"inputPart",fn:function(){return[n("v-container",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"意味(関連に表示されるラベル)",counter:"",autofocus:"",rules:[e.validateMeaning],maxlength:e.meaningMaxLength},model:{value:e.meaning,callback:function(t){e.meaning=t},expression:"meaning"}})],1)],1),e._v(" "),n("v-row",[n("v-col",[n("p",[e._v("線形(軌跡の形状)")]),e._v(" "),n("v-btn-toggle",{attrs:{tile:"",color:"deep-purple accent-3",group:""},model:{value:e.routerType.id,callback:function(t){e.$set(e.routerType,"id",t)},expression:"routerType.id"}},e._l(e.routerTypes,(function(t){return n("v-btn",{key:t.id,attrs:{value:t.id},on:{click:function(n){return e.onChangeRouterType(t)}}},[e._v(e._s(t.name))])})),1)],1)],1)],1)]},proxy:!0}])})}),[],!1,null,"6dbea054",null);t.default=component.exports;D()(component,{PropertiesSettingDialog:n(685).default}),D()(component,{VBtn:w.a,VBtnToggle:E.a,VCol:x.a,VContainer:I.a,VRow:_.a,VTextField:T.a})},721:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(106)),h=n(684);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var m=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},C=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).consent=!1,e}return Object(r.a)(n,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"changeConsent",value:function(e){this.consent=e}}]),n}(v.Vue);m([Object(v.Prop)({required:!0})],C.prototype,"resource",void 0),m([Object(v.Prop)({required:!0})],C.prototype,"resources",void 0),m([Object(v.Emit)("onModifyResource")],C.prototype,"onModifyResource",null),m([Object(v.Emit)("onClose")],C.prototype,"onClose",null);var R=C=m([Object(v.Component)({components:{CoreResourceEditDialog:h.default}})],C),O=n(86),component=Object(O.a)(R,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450"},on:{onModifyResource:e.onModifyResource,onClose:e.onClose,changeConsent:e.changeConsent}})}),[],!1,null,"4129e6b3",null);t.default=component.exports},722:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(106)),h=n(684),y=n(177),m=n(3);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},O=function(e){Object(c.a)(n,e);var t=C(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).content="",e.inputContentHint="",e.consent=!1,e}return Object(r.a)(n,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){this.content=e.content,this.inputContentHint=this.choiceHintText(e)}},{key:"changeConsent",value:function(e){!0===this.validateContent()?this.consent=e:this.consent=!1}},{key:"choiceHintText",value:function(e){return m.a.目的.equals(e.type)?"半角スペース・改行 で折り返す事ができます。":"改行 で折り返す事ができます。"}},{key:"validateContent",value:function(){this.consent=!1;var content=this.content;if(content.length<=0)return"入力してください。";var e=y.a.CONTENT_MAX_LENGTH;return content.length>e?"".concat(e,"文字以内で入力してください。"):(this.consent=!0,!0)}},{key:"onModifyResourceInner",value:function(e){var t=e.withContent(this.content);this.onModifyResource(t)}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"resource",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"resources",void 0),R([Object(v.Emit)("onModifyResource")],O.prototype,"onModifyResource",null),R([Object(v.Emit)("onClose")],O.prototype,"onClose",null);var k=O=R([Object(v.Component)({components:{CoreResourceEditDialog:h.default}})],O),P=n(86),j=n(79),D=n.n(j),w=n(774),E=n(775),x=n(813),component=Object(P.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450",notFocusSetName:"true"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[n("v-row",[n("v-col",[n("v-textarea",{ref:"inputContent",attrs:{counter:"",filled:"",label:"内容",rows:"3","no-resize":"",autofocus:"",rules:[e.validateContent],hint:e.inputContentHint},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)]},proxy:!0}])})}),[],!1,null,"2f486cee",null);t.default=component.exports;D()(component,{VCol:w.a,VRow:E.a,VTextarea:x.a})},723:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(25),n(42),n(36),n(32),n(40),n(11),n(106)),h=n(710),y=n.n(h),m=(n(711),n(684)),C=n(174);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},k=function(e){Object(c.a)(n,e);var t=R(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).values=[],e.valuesSpread=null,e.consent=!1,e}return Object(r.a)(n,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){null!==this.valuesSpread&&this.valuesSpread.destroy(),this.values=e.valuesOf().map((function(e){return[e]}));var div=this.$refs.valuesSpreadDiv;this.valuesSpread=this.createSpread(this.values,div)}},{key:"createSpread",value:function(e,div){var t={data:this.values,allowToolbar:!0,columnResize:!1,columnSorting:!1,tableOverflow:!0,tableHeight:"130px",allowInsertColumn:!1,onchange:this.onChangedCell,columns:[{type:"text",title:"値の種類",width:"325px",align:"left"}]};return y()(div,t)}},{key:"onChangedCell",value:function(e,t,n,o,r){var c=Number(o),l=r.trim().substring(0,C.a.CONDITION_VALUE_MAX_LENGTH);this.values[c][0]=l,t.textContent=l}},{key:"onModifyResourceInner",value:function(e){var t=this.values.map((function(line){return line[0]})).map((function(e){return e.trim()})).filter((function(e){return e.length>0})),n=e.withValues(t);this.onModifyResource(n)}},{key:"changeConsent",value:function(e){this.consent=e}}]),n}(v.Vue);O([Object(v.Prop)({required:!0})],k.prototype,"resource",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"resources",void 0),O([Object(v.Emit)("onModifyResource")],k.prototype,"onModifyResource",null),O([Object(v.Emit)("onClose")],k.prototype,"onClose",null);var P=k=O([Object(v.Component)({components:{CoreResourceEditDialog:m.default}})],k),j=(n(714),n(86)),D=n(79),w=n.n(D),E=n(774),x=n(775),component=Object(j.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450",ignoreEscKey:"true",ignoreEnterKey:"true"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[n("v-row",[n("v-col",[n("div",{ref:"valuesSpreadDiv",staticClass:"values-spread"})])],1)]},proxy:!0}])})}),[],!1,null,"e56dac4a",null);t.default=component.exports;w()(component,{VCol:E.a,VRow:x.a})},724:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(106)),h=n(684),y=n(173);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var C=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},R=function(e){Object(c.a)(n,e);var t=m(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).value="",e.consent=!1,e}return Object(r.a)(n,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){this.value=e.value}},{key:"onModifyResourceInner",value:function(e){var t=e.withValue(this.value);this.onModifyResource(t)}},{key:"changeConsent",value:function(e){!0===this.validateValue()&&(this.consent=e)}},{key:"valueMaxLength",get:function(){return y.a.CONDITION_VALUE_MAX_LENGTH}},{key:"validateValue",value:function(){this.consent=!1;var e=this.value;if(0===e.length)return"入力してください。";var t=this.valueMaxLength;return e.length>t?"".concat(t,"文字以内で入力してください。"):(this.consent=!0,!0)}}]),n}(v.Vue);C([Object(v.Prop)({required:!0})],R.prototype,"resource",void 0),C([Object(v.Prop)({required:!0})],R.prototype,"resources",void 0),C([Object(v.Emit)("onModifyResource")],R.prototype,"onModifyResource",null),C([Object(v.Emit)("onClose")],R.prototype,"onClose",null);var O=R=C([Object(v.Component)({components:{CoreResourceEditDialog:h.default}})],R),k=n(86),P=n(79),j=n.n(P),D=n(774),w=n(775),E=n(125),component=Object(k.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,dialogWidth:"450"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"条件の内容",counter:"",rules:[e.validateValue],maxlength:e.valueMaxLength},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)]},proxy:!0}])})}),[],!1,null,"ef481198",null);t.default=component.exports;j()(component,{VCol:D.a,VRow:w.a,VTextField:E.a})},725:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(25),n(42),n(32),n(40),n(36),n(106)),h=n(710),y=n.n(h),m=(n(711),n(684)),C=n(173);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var O=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},k=function(e){Object(c.a)(n,e);var t=R(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).values=[],e.valuesSpread=null,e.consent=!1,e}return Object(r.a)(n,[{key:"onModifyResource",value:function(e){}},{key:"onClose",value:function(){}},{key:"showCustomProperties",value:function(e){null!==this.valuesSpread&&this.valuesSpread.destroy(),this.values=e.valuesOf();var div=this.$refs.valuesSpreadDiv;this.valuesSpread=this.createSpread(this.values,div)}},{key:"createSpread",value:function(e,div){var t={data:this.values,allowToolbar:!0,columnResize:!0,columnSorting:!1,rowResize:!0,tableOverflow:!0,tableHeight:"130px",tableWidth:"530px",defaultColWidth:"130px",defaultColAlign:"left",allowInsertColumn:!0,onchange:this.onChangedCell},n=y()(div,t);return n.hideIndex(),this.hideRowHeader(div),n}},{key:"hideRowHeader",value:function(e){e.getElementsByTagName("thead").item(0).style.display="none"}},{key:"onChangedCell",value:function(e,t,n,o,r){var c=Number(o),l=r.trim().substring(0,C.a.CONDITION_VALUE_MAX_LENGTH);this.values[c][0]=l,t.textContent=l}},{key:"onModifyResourceInner",value:function(e){var t=this,n=this.values.map((function(line){return t.normalizeValues(line)})),o=e.withValues(n);this.onModifyResource(o)}},{key:"normalizeValues",value:function(e){return e.map((function(e){return e.trim()}))}},{key:"changeConsent",value:function(e){this.consent=e}}]),n}(v.Vue);O([Object(v.Prop)({required:!0})],k.prototype,"resource",void 0),O([Object(v.Prop)({required:!0})],k.prototype,"resources",void 0),O([Object(v.Emit)("onModifyResource")],k.prototype,"onModifyResource",null),O([Object(v.Emit)("onClose")],k.prototype,"onClose",null);var P=k=O([Object(v.Component)({components:{CoreResourceEditDialog:m.default}})],k),j=(n(716),n(86)),D=n(79),w=n.n(D),E=n(774),x=n(775),component=Object(j.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CoreResourceEditDialog",{attrs:{resource:e.resource,resources:e.resources,consent:e.consent,ignoreEscKey:"true",ignoreEnterKey:"true",dialogWidth:"600"},on:{onModifyResource:e.onModifyResourceInner,onClose:e.onClose,showCustomProperties:e.showCustomProperties,changeConsent:e.changeConsent},scopedSlots:e._u([{key:"customInputFields",fn:function(){return[n("v-row",[n("v-col",[e._v("\n        条件\n        "),n("br"),e._v(" "),n("div",{ref:"valuesSpreadDiv",staticClass:"values-spread-headless"}),e._v("\n        ※tabキーで列追加、enterキーで行追加、右クリックでその他の操作\n      ")])],1)]},proxy:!0}])})}),[],!1,null,"3e835658",null);t.default=component.exports;w()(component,{VCol:E.a,VRow:x.a})},726:function(e,t,n){"use strict";n(694)},727:function(e,t,n){var o=n(26)(!1);o.push([e.i,".canvas-float-toolbar{width:500px;left:2%;top:-10%;display:block;z-index:2;transition:none;position:absolute}",""]),e.exports=o},728:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(50),n(92),n(11),n(25),n(42),n(106)),h=n(748),y=n(719),m=n(49);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},O=function(e){Object(c.a)(n,e);var t=C(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).TOOLBAR_PADDING=10,e.toolBarCollapse=!1,e.dragStartLayerX=0,e.dragStartLayerY=0,e.lastContainerWidth=0,e.lastContainerHeight=0,e}return Object(r.a)(n,[{key:"onChangeCanvasGuideType",value:function(e){}},{key:"onPngDownload",value:function(){}},{key:"onSvgDownLoad",value:function(){}},{key:"onOpendDiagramPropertiesEditor",value:function(e){}},{key:"created",value:function(){this.toolBarId="toolBar"+this.diagramId}},{key:"mounted",value:function(){var e=this.getCanvasContainer();e&&(e.addEventListener("dragover",this.onDragOverToolBar),e.addEventListener("drop",this.onDropToolBar),this.addResizeListenerCanvasContainer(),this.moveToolBarOnFirstPosition())}},{key:"onChangeZoom",value:function(e){this.onChangeZoomParent(e)}},{key:"onChangeZoomParent",value:function(e){}},{key:"onResizeEditorPain",value:function(e){if(0!==e[0].target.clientHeight){var t=this.getToolBarElement();if(t){var n=e[0].target,o=n.clientWidth-this.lastContainerWidth,r=n.clientHeight-this.lastContainerHeight,c=t.offsetLeft+o,l=t.offsetTop+r;this.fixAreaOverToolBar(c,l,t),this.lastContainerWidth=n.clientWidth,this.lastContainerHeight=n.clientHeight}}}},{key:"onDblClickZoomPercentage",value:function(){this.onChangeZoomParent(1)}},{key:"addResizeListenerCanvasContainer",value:function(){var e=this.getCanvasContainer();e&&new h.ResizeObserver(this.onResizeEditorPain).observe(e)}},{key:"moveToolBarOnFirstPosition",value:function(){var e=this.getToolBarElement(),t=this.getCanvasContainer();if(t){this.lastContainerWidth=t.clientWidth,this.lastContainerHeight=t.clientHeight;var n=this.TOOLBAR_PADDING,o=(t.offsetHeight,t.clientHeight,t.clientWidth-e.offsetWidth-n),r=t.clientHeight-e.offsetHeight-n,style=e.style;style.left="".concat(o,"px"),style.top="".concat(r,"px")}}},{key:"onMouseDownToolBar",value:function(e){this.dragStartLayerX=e.layerX,this.dragStartLayerY=e.layerY}},{key:"onDragStartToolBar",value:function(e){var t;null===(t=e.dataTransfer)||void 0===t||t.setData("text",this.toolBarId)}},{key:"onDragOverToolBar",value:function(e){null==e||e.preventDefault()}},{key:"onDropToolBar",value:function(e){var t;if((null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text"))===this.toolBarId){var n=this.getToolBarElement(),o=this.getCanvasContainer();if(n&&o){var r=o.getBoundingClientRect(),c=e.pageX-r.left,l=e.pageY-r.top,d=c-this.dragStartLayerX,f=l-this.dragStartLayerY;this.fixAreaOverToolBar(d,f,n),e.preventDefault()}}}},{key:"fixAreaOverToolBar",value:function(e,t,n){var o=this.getCanvasContainer();if(o){var r=n.offsetWidth,c=n.offsetHeight;e+r-o.clientWidth>0&&(e=o.clientWidth-r),e<0&&(e=0),t+c-o.clientHeight>0&&(t=o.clientHeight-c),t<0&&(t=0);var style=n.style;style.left="".concat(e,"px"),style.top="".concat(t,"px")}}},{key:"onClickBarCollapseToggle",value:function(){var e=this,t=this.getToolBarElement(),n=t.offsetWidth;this.toolBarCollapse=!this.toolBarCollapse,this.$nextTick((function(){var o=t.offsetLeft+n-t.offsetWidth,r=parseInt(t.style.top.replace(/px$/,""));e.fixAreaOverToolBar(o,r,t)}))}},{key:"calcZoomPercentage",value:function(){return"".concat(Math.floor(100/this.canvasZoom),"%")}},{key:"canvasGuideTypes",value:function(){var e=this;return m.default.values().filter((function(t){return!t.equals(e.canvasGuideType)}))}},{key:"onClickChangeCanvasGuideType",value:function(e){this.onChangeCanvasGuideType(e)}},{key:"onClickSvgDownload",value:function(){this.onSvgDownLoad()}},{key:"onClickEditDiagramProperties",value:function(){this.onOpendDiagramPropertiesEditor(this.diagramId)}},{key:"getToolBarElement",value:function(){return document.getElementById(this.toolBarId)}},{key:"getEditorPain",value:function(){var e=this.getToolBarElement().parentElement;return e||null}},{key:"getCanvasContainer",value:function(){var e=this.$parent.$el;return e||null}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],O.prototype,"diagramId",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"canvasZoom",void 0),R([Object(v.Prop)({required:!0})],O.prototype,"canvasGuideType",void 0),R([Object(v.Emit)("onChangeCanvasGuideType")],O.prototype,"onChangeCanvasGuideType",null),R([Object(v.Emit)("onPngDownload")],O.prototype,"onPngDownload",null),R([Object(v.Emit)("onSvgDownload")],O.prototype,"onSvgDownLoad",null),R([Object(v.Emit)("onOpendDiagramPropertiesEditor")],O.prototype,"onOpendDiagramPropertiesEditor",null),R([Object(v.Emit)("onChangeZoomBySlider")],O.prototype,"onChangeZoomParent",null);var k=O=R([Object(v.Component)({components:{CanvasZoomSlider:y.default}})],O),P=(n(726),n(86)),j=n(79),D=n.n(j),w=n(294),E=n(264),x=n(266),I=n(268),_=n(163),T=n(90),M=n(274),S=n(674),B=n(85),component=Object(P.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{staticClass:"canvas-float-toolbar",attrs:{id:e.toolBarId,draggable:"",dense:"",floating:"",outlined:"",rounded:"",shaped:"",short:"",collapse:e.toolBarCollapse},on:{dragstart:e.onDragStartToolBar,mousedown:e.onMouseDownToolBar}},[n("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickEditDiagramProperties}},[n("v-icon",[e._v("mdi-content-save-edit-outline")])],1),e._v(" "),n("v-spacer"),e._v(" "),e.toolBarCollapse?e._e():n("v-card",[n("CanvasZoomSlider",{attrs:{canvasZoom:e.canvasZoom},on:{onChangeZoomBySlider:e.onChangeZoom}})],1),e._v(" "),e.toolBarCollapse?e._e():n("span",{on:{dblclick:function(t){return e.onDblClickZoomPercentage()}}},[e._v(e._s(e.calcZoomPercentage()))]),e._v(" "),e.toolBarCollapse?e._e():n("v-menu",{attrs:{top:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[n("v-btn",e._g(e._b({attrs:{dark:"",small:"",icon:""}},"v-btn",r,!1),o),[n("v-icon",[e._v(e._s(e.canvasGuideType.iconKey))])],1)]}}],null,!1,3674894110)},[e._v(" "),n("v-list",e._l(e.canvasGuideTypes(),(function(t){return n("v-list-item",{key:t.iconKey,on:{click:function(n){return e.onClickChangeCanvasGuideType(t)}}},[n("v-list-item-title",[n("v-icon",[e._v(e._s(t.iconKey))]),e._v("\n          "+e._s(t.caption)+"\n        ")],1)],1)})),1)],1),e._v(" "),e.toolBarCollapse?e._e():n("v-btn",{attrs:{dark:"",small:"",icon:""}},[n("v-icon",{on:{click:e.onPngDownload}},[e._v("mdi-image")])],1),e._v(" "),e.toolBarCollapse?e._e():n("v-btn",{attrs:{dark:"",small:"",icon:""}},[n("v-icon",{on:{click:e.onClickSvgDownload}},[e._v("mdi-image-outline")])],1),e._v(" "),n("v-spacer"),e._v(" "),e.toolBarCollapse?e._e():n("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickBarCollapseToggle}},[n("v-icon",[e._v("mdi-arrow-collapse-horizontal")])],1),e._v(" "),e.toolBarCollapse?n("v-btn",{attrs:{dark:"",icon:""},on:{click:e.onClickBarCollapseToggle}},[n("v-icon",[e._v("mdi-arrow-expand-horizontal")])],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;D()(component,{VBtn:w.a,VCard:E.a,VIcon:x.a,VList:I.a,VListItem:_.a,VListItemTitle:T.b,VMenu:M.a,VSpacer:S.a,VToolbar:B.a})},729:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(25),n(42),n(106)),h=n(720),y=n(149);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var C=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},R=function(e){Object(c.a)(n,e);var t=m(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).routerTypes=y.a.values(),e.visibleRouterSelector=!1,e.changedRouterTypeId=0,e.editTargetRelation=null,e}return Object(r.a)(n,[{key:"onUpdateRelation",value:function(e){}},{key:"onDeleteRelation",value:function(e){}},{key:"onClickChangeRouter",value:function(){this.relation&&(this.visibleRouterSelector=!1,this.changedRouterTypeId=this.relation.routerType.id,this.visibleRouterSelector=!0)}},{key:"onChangeRouterType",value:function(e){this.relation&&(this.visibleRouterSelector=!1,this.onUpdateRelation(this.relation.changeRouter(e)))}},{key:"onClickDeleteConnection",value:function(){this.relation&&this.onDeleteRelation(this.relation)}},{key:"onClickEditConnection",value:function(){this.editTargetRelation=this.relation}},{key:"onUpdateRelationProperties",value:function(e){this.onUpdateRelation(e)}},{key:"onClosePropertiesEditor",value:function(){this.editTargetRelation=null}}]),n}(v.Vue);C([Object(v.Prop)({required:!0})],R.prototype,"visibleConnectorRightClickMenu",void 0),C([Object(v.Prop)({required:!0})],R.prototype,"relation",void 0),C([Object(v.Prop)()],R.prototype,"menuPositionX",void 0),C([Object(v.Prop)()],R.prototype,"menuPositionY",void 0),C([Object(v.Emit)("onUpdateRelation")],R.prototype,"onUpdateRelation",null),C([Object(v.Emit)("onDeleteRelation")],R.prototype,"onDeleteRelation",null);var O=R=C([Object(v.Component)({components:{RelationPropertiesEditDialog:h.default}})],R),k=n(86),P=n(79),j=n.n(P),D=n(836),w=n(294),E=n(831),x=n(268),I=n(163),_=n(90),T=n(274),M=n(84),component=Object(k.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-menu",{attrs:{value:e.visibleConnectorRightClickMenu,"close-on-click":!0,"close-on-content-click":!0,"offset-x":!0,rounded:!0,"position-x":e.menuPositionX,"position-y":e.menuPositionY}},[n("v-list",[n("v-list-item",{attrs:{link:""},on:{click:e.onClickChangeRouter}},[n("v-list-item-title",[e._v("関連の線形(軌跡の形状)を変更...")])],1),e._v(" "),n("v-list-item",{attrs:{link:""},on:{click:e.onClickEditConnection}},[n("v-list-item-title",[e._v("関連の設定...")])],1),e._v(" "),n("v-list-item",{attrs:{link:""},on:{click:e.onClickDeleteConnection}},[n("v-list-item-title",[e._v("関連の削除")])],1)],1)],1),e._v(" "),n("v-bottom-sheet",{attrs:{inset:"","open-on-hover":""},model:{value:e.visibleRouterSelector,callback:function(t){e.visibleRouterSelector=t},expression:"visibleRouterSelector"}},[n("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[n("v-btn",{staticClass:"mt-6",attrs:{text:"",color:"normal"},on:{click:function(t){e.visibleRouterSelector=!e.visibleRouterSelector}}},[e._v("close")]),e._v(" "),n("div",{staticClass:"my-3"},[e._v("変更したい線形(軌跡の形状)を選択してください。")]),e._v(" "),n("v-btn-toggle",{attrs:{tile:"",color:"deep-purple accent-3",group:""},model:{value:e.changedRouterTypeId,callback:function(t){e.changedRouterTypeId=t},expression:"changedRouterTypeId"}},e._l(e.routerTypes,(function(t){return n("v-btn",{key:t.id,attrs:{value:t.id},on:{click:function(n){return e.onChangeRouterType(t)}}},[e._v(e._s(t.name))])})),1)],1)],1),e._v(" "),n("RelationPropertiesEditDialog",{attrs:{relation:e.editTargetRelation},on:{onUpdateRelationProperties:e.onUpdateRelationProperties,onClose:e.onClosePropertiesEditor}})],1)}),[],!1,null,"90953248",null);t.default=component.exports;j()(component,{VBottomSheet:D.a,VBtn:w.a,VBtnToggle:E.a,VList:x.a,VListItem:I.a,VListItemTitle:_.b,VMenu:T.a,VSheet:M.a})},730:function(e,t,n){"use strict";n(697)},731:function(e,t,n){var o=n(26)(!1);o.push([e.i,".pain-container[data-v-3c1f481d]{display:flex;height:100%;width:100%;max-width:none;padding-right:0;padding-left:0;margin-right:unset;margin-left:unset}.left-pain[data-v-3c1f481d]{overflow:hidden;text-align:left;resize:both;width:250px}.right-pain[data-v-3c1f481d]{flex-grow:1;width:0;min-width:0;overflow:hidden}.slidebar[data-v-3c1f481d]{width:8px;background-color:grey;cursor:col-resize}",""]),e.exports=o},732:function(e,t,n){"use strict";n(698)},733:function(e,t,n){var o=n(26)(!1);o.push([e.i,".canvas-container[data-v-0a21de48]{width:100%;height:100%;min-width:0;overflow:auto;text-align:left}.diagram-canvas[data-v-0a21de48]{width:1px;height:1px;margin:0;border-radius:5px;filter:drop-shadow(10px 10px 10px rgba(0,0,0,.6));position:relative}",""]),e.exports=o},734:function(e,t,n){"use strict";n(699)},735:function(e,t,n){var o=n(26)(!1);o.push([e.i,".paret-panel{overflow-x:hidden;overflow-y:auto;width:100%;height:100%}.omit-long-text{position:absolute;text-align:left;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:100%;padding:0}.ignore-padding{padding:0}.chip-container{position:absolute;text-align:left;width:100%}.v-expansion-panel-content__wrap{padding:0;flex:auto}.v-expansion-panel--next-active{padding:0}",""]),e.exports=o},738:function(e,t,n){"use strict";n.r(t);n(31),n(48),n(54),n(43),n(17),n(66),n(80),n(42);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(14),n(32),n(60),n(22),n(25),n(61),n(50),n(92),n(35),n(44)),h=n(728),y=n(729),m=n(696),C=(n(281),n(744),n(745),n(747),n(232)),R=n.n(C),O=n(1),k=n.n(O),P=n(46),j=n(3),D=n(149),w=n(49),E=n(290),x=n(695),I=n(288),_=n(684);function T(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var B=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},V=function(e){Object(c.a)(n,e);var t=S(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).routerConverter=new x.default,e.canvasZoom=1,e.canvasGuideType=w.default.なし,e.lastResourcesOnCurrentProductCount=0,e.visibleConnectorMenu=!1,e.targetRelation=null,e.menuX=0,e.menuY=0,e.editResourceId=0,e.editResourceType=null,e.dropXOnCanvas=0,e.dropYOnCanvas=0,e}return Object(r.a)(n,[{key:"onUpdateResources",value:function(){}},{key:"onMergePlacement",value:function(e){}},{key:"onOpendDiagramPropertiesEditor",value:function(e){}},{key:"onShowWarnBar",value:function(text){}},{key:"onUpdatedDiagramProperties",value:function(){if(this.diagramId===this.lastPropertiesUpdatedDiagramId){var e=this.repository.getCurrentProduct().diagrams.of(this.diagramId);if(e){var t=this.canvas;t.getWidth()===e.width&&t.getHeight()===e.height||(this.reverceSyncCavansDeleteThings(),this.canvas.setDimension(e.width,e.height),this.onMergePlacement(e.placements),this.onChangeZoomBySlider(this.canvasZoom+.001))}}}},{key:"onChangeAllResourcesOnCurrentProduct",value:function(){var e=this.allResourcesOnCurrentProduct.length<this.lastResourcesOnCurrentProductCount;this.lastResourcesOnCurrentProductCount=this.allResourcesOnCurrentProduct.length,e&&this.reverceSyncCavansDeleteThings()}},{key:"onChangeUsedResouceIds",value:function(){this.reverceSyncCavansDeleteThings()}},{key:"created",value:function(){var e;(null===(e=this.product)||void 0===e?void 0:e.diagrams.of(this.diagramId))&&(this.canvasId="canvas"+this.diagramId,this.lastResourcesOnCurrentProductCount=this.allResourcesOnCurrentProduct.length)}},{key:"mounted",value:function(){var e=this;this.$nuxt.$loading.start(),this.$nextTick((function(){var t,n=null===(t=e.product)||void 0===t?void 0:t.diagrams.of(e.diagramId);n&&(e.showCanvas(),e.fixCanvasPosition(),e.addCanvasEvent(),e.drawDiagram(n),e.onChangeCanvasGuideType(n.canvasGuideType),e.$nuxt.$loading.finish())}))}},{key:"showWarnBar",value:function(text){this.onShowWarnBar(text)}},{key:"onDeleteRelation",value:function(e){var t=this.canvas.getLine(e.id);this.canvas.remove(t),this.transactionOf2((function(t,n){return t.removeRelationsOf([e.id])}))}},{key:"onUpdateRelation",value:function(e){var t=this.canvas.getLine(e.id);if(t){var n=this.routerConverter.makeRouterBy(e.routerType);t.setRouter(n),t.getChildren().asArray().forEach((function(e){return t.remove(e)})),this.addConnectionLabel(t,e),this.transactionOf2((function(t,n){return t.modifyRelationOf(e)}))}}},{key:"onChangeZoomBySlider",value:function(e){this.canvas.setZoom(e,!1)}},{key:"onChangeCanvasGuideType",value:function(e){var canvas=this.canvas,t=this.canvasGuideType;t.canvasPolicy&&canvas.uninstallEditPolicy(t.canvasPolicy),e.canvasPolicy&&canvas.installEditPolicy(e.canvasPolicy),canvas.setZoom(canvas.getZoom()-.001,!1),this.canvasGuideType=e}},{key:"onPngDownload",value:function(){var e=this,t=this.repository.getCurrentProduct().diagrams.of(this.diagramId);if(t){var n=this.makeDownloadFileName(t,"png");(new R.a.io.png.Writer).marshal(this.canvas,(function(t){e.clientDownloadRepository.registerBase64PngImage(t,n)}))}}},{key:"onSvgDownload",value:function(){var e=this,t=this.repository.getCurrentProduct().diagrams.of(this.diagramId);if(t){var n=this.makeDownloadFileName(t,"svg");(new R.a.io.svg.Writer).marshal(this.canvas,(function(svg){var t=e.includeWebFont(svg),o=new E.a(n,"image/svg+xml",t);e.clientDownloadRepository.register(o)}))}}},{key:"onUpdatedResource",value:function(e){this.addPlacement(e),this.onUpdateResources()}},{key:"onCloseResourceEditor",value:function(){this.editResourceId=0}},{key:"onZoomChangeFromCanvas",value:function(e,t){this.canvasZoom=t.value}},{key:"onDropCanvas",value:function(e){var t;e.preventDefault();var n=this.canvas.getZoom();n=isFinite(n)?Number(n):1,this.dropXOnCanvas=e.offsetX*n,this.dropYOnCanvas=e.offsetY*n;var o=null===(t=e.dataTransfer)||void 0===t?void 0:t.getData("text");if(o){var r,c=parseInt(o,10);if(c<0){var l=j.a.ofId(-1*c);this.showResourcePropertiesEditor(l)}else{var d=this.repository.getCurrentProduct();d.diagrams.of(this.diagramId)&&(r=d.resources.of(c))&&this.addPlacement(r)}}}},{key:"onDropOverCanvas",value:function(e){e.preventDefault()}},{key:"onCanvasCommandExecute",value:function(e){var t=this;if(e.isPostChangeEvent()){var n=e.getCommand(),o=this.eventAnalyzer.analyze(n);o.isNothing()||this.transactionOf2((function(e,n){return o.validate(e,n,t)?o.apply(e,n,t):null}))}}},{key:"showCanvas",value:function(){var canvas=new R.a.Canvas(this.canvasId,P.a.MAX_WIDTH,P.a.MAX_HEIGHT);canvas.installEditPolicy(new R.a.policy.canvas.CoronaDecorationPolicy),canvas.installEditPolicy(new R.a.policy.canvas.ShowGridEditPolicy(-1)),canvas.installEditPolicy(new R.a.policy.canvas.ExtendedKeyboardPolicy),this.canvas=canvas}},{key:"onClickConnectorOnCanvas",value:function(e,t){var canvas=this.canvas,n=canvas.getBestFigure(e,t,[],[]);if(n){var o=this.repository.getCurrentProduct();if(o){var r=o.diagrams.of(this.diagramId);if(r){var c=r.relationOf(n.id);if(c){var l=canvas.getZoom(),d=canvas.getAbsoluteX()+e/l,f=canvas.getAbsoluteY()+t/l;this.showConnectorRightClickMenu(c,d,f)}}}}}},{key:"drawDiagram",value:function(e){var t=this;e.placements.forEach((function(p){return t.usedResouceIds.push(p.resourceId)})),this.canvas.setDimension(e.width,e.height);var n,o=T(e.placements);try{for(o.s();!(n=o.n()).done;){var r=n.value,c=this.findResource(r.resourceId);c&&this.addResouceIconToCanvas(c,r)}}catch(e){o.e(e)}finally{o.f()}var l,d=T(e.relations);try{for(d.s();!(l=d.n()).done;){var f=l.value;this.addConnection(f)}}catch(e){d.e(e)}finally{d.f()}}},{key:"findResource",value:function(e){var t=this.allResourcesOnCurrentProduct.find((function(t){return t.resourceId===e}));return t||null}},{key:"addResouceIconToCanvas",value:function(e,t){var n=e.type,o=this.choiceIconGenerator(n);if(o){var r=o.generate(t,e,this.iconStyleOf(n));this.canvas.add(r),this.fixZOrder(r)}else alert("ジェネレータ無しアイコン生成不能:"+n.name)}},{key:"fixZOrder",value:function(e){var t=this.canvas.getFigures().asArray(),n=t.find((function(i){return i.getId()===e.getId()}));if(n&&this.isAreaIcon(n)){var o,r=null,c=T(t);try{for(c.s();!(o=c.n()).done;){var figure=o.value;figure.getId()!==n.getId()&&(r&&(this.isAreaIcon(figure)||r.getZOrder()<figure.getZOrder())||(r=figure))}}catch(e){c.e(e)}finally{c.f()}r&&n.toBack(r)}}},{key:"isAreaIcon",value:function(e){return!!e.getUserData()&&!!e.getUserData().area}},{key:"choiceIconGenerator",value:function(e){var t=this.iconGenerators.find((function(g){return g.resourceType().equals(e)}));return t||null}},{key:"addConnection",value:function(e){var canvas=this.canvas,t=new R.a.Connection({id:e.id}),n=(canvas.getFigure(String(e.fromResourceId)),canvas.getFigure(String(e.toResourceId)),this.getPort(e.fromResourceId,canvas,!0));n&&t.setSource(n);var o=this.getPort(e.toResourceId,canvas,!1);o&&t.setTarget(o);var r=D.a.ofId(e.routerTypeId);r||(r=D.a.DIRECT),t.setRouter(this.routerConverter.makeRouterBy(r)),t.onContextMenu=this.onClickConnectorOnCanvas,this.addConnectionLabel(t,e),this.decorateWhenFlow(e,t),canvas.add(t)}},{key:"getPort",value:function(e,canvas,t){var n=canvas.getFigure(String(e));if(!n)return null;var o=t?"draw2d.OutputPort":"draw2d.InputPort",r=n.getPorts(!1).asArray().find((function(e){return e.NAME===o||"draw2d.HybridPort"===e.NAME}));return r||null}},{key:"addConnectionLabel",value:function(e,t){if(0!==t.meaning.length){var label=new R.a.shape.basic.Label({text:t.meaning,stroke:0,padding:0,alpha:.75,bgColor:"#ffffff"});e.add(label,new R.a.layout.locator.ParallelMidpointLocator)}}},{key:"showConnectorRightClickMenu",value:function(e,t,n){var o=this;this.visibleConnectorMenu=!1,this.targetRelation=e,this.menuX=t,this.menuY=n,this.$nextTick((function(){o.visibleConnectorMenu=!0}))}},{key:"iconStyleOf",value:function(e){return this.iconMap[e.iconKey]}},{key:"reverceSyncCavansDeleteThings",value:function(){var e=this.repository.getCurrentProduct().diagrams.of(this.diagramId),canvas=this.canvas;canvas.getLines().each((function(i,line){e.existsRelationId(line.id.toString())||canvas.remove(line)})),canvas.getFigures().each((function(i,figure){var t=Number(figure.id);e.existsPlacementId(t)||canvas.remove(figure)}))}},{key:"confirmResourceDelete",value:function(e,t){if(0===t.relationIdsOfDeleteTargetResouce(e).length)return!0;return confirm("選択された要素には、他の要素への関連があります。それらを含め削除してよろしいですか。")}},{key:"makeDownloadFileName",value:function(e,t){var n=e.name.replace(" ","-").replace("　","＿"),o=k()().format("YYYYMMDDHHmmss");return"rdram-".concat(e.id,"-").concat(n,"-").concat(o,".").concat(t)}},{key:"includeWebFont",value:function(e){return e.replace("<defs","<defs><style type='text/css'>@import url('https://cdn.jsdelivr.net/npm/@mdi/font@latest/css/materialdesignicons.min.css');</style></defs><defs")}},{key:"showResourcePropertiesEditor",value:function(e){this.editResourceType=e,this.editResourceId=_.default.ID_WHEN_CREATE_NEW}},{key:"decorateWhenFlow",value:function(e,t){this.isFlowRelation(e)&&this.arrowDocorate(t)}},{key:"isFlowRelation",value:function(e){var t=this.findResource(e.fromResourceId),n=this.findResource(e.toResourceId);return!(!t||!n)&&I.a.of(e,t,n).isFlowRelation()}},{key:"arrowDocorate",value:function(e){var t=new R.a.decoration.connection.ArrowDecorator;t.setBackgroundColor(e.getColor()),e.setTargetDecorator(t)}},{key:"fixCanvasPosition",value:function(){var e,svg=null===(e=document.getElementById(this.canvasId))||void 0===e?void 0:e.firstChild;svg.style.removeProperty("position"),svg.addEventListener("drop",this.onDropCanvas),svg.addEventListener("dragover",this.onDropOverCanvas),svg.oncontextmenu=function(){return!1}}},{key:"addCanvasEvent",value:function(){this.canvas.getCommandStack().addEventListener(this.onCanvasCommandExecute),this.canvas.on("zoom",this.onZoomChangeFromCanvas)}},{key:"addPlacement",value:function(e){var t=this.repository.getCurrentProduct(),n=t.diagrams.of(this.diagramId);if(t&&n){var o=n.createPlacement(e,this.dropXOnCanvas,this.dropYOnCanvas),r=n.addPlacement(o),c=t.replaceOf(r);this.addResouceIconToCanvas(e,o),this.repository.registerCurrentProduct(c),this.onMergePlacement(r.placements)}}},{key:"transactionOf",value:function(e){var t=this.repository.getCurrentProduct(),n=t.diagrams.of(this.diagramId);if(n){var o=e(n,this.product);this.onMergePlacement(n.placements),o&&this.repository.registerCurrentProduct(t)}}},{key:"transactionOf2",value:function(e){var t=this.repository.getCurrentProduct(),n=t.diagrams.of(this.diagramId);if(n){var o=e(n,t);if(null!==o){this.onMergePlacement(o.placements);var r=t.replaceOf(o);this.repository.registerCurrentProduct(r)}}}}]),n}(v.Vue);B([Object(v.Prop)({required:!0})],V.prototype,"diagramId",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"product",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"usedResouceIds",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"allResourcesOnCurrentProduct",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"lastPropertiesUpdatedDiagramId",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"iconMap",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"eventAnalyzer",void 0),B([Object(v.Prop)({required:!0})],V.prototype,"iconGenerators",void 0),B([Object(v.Inject)()],V.prototype,"repository",void 0),B([Object(v.Inject)()],V.prototype,"clientDownloadRepository",void 0),B([Object(v.Emit)("onUpdateResources")],V.prototype,"onUpdateResources",null),B([Object(v.Emit)("onMergePlacement")],V.prototype,"onMergePlacement",null),B([Object(v.Emit)("onOpendDiagramPropertiesEditor")],V.prototype,"onOpendDiagramPropertiesEditor",null),B([Object(v.Emit)("onShowWarnBar")],V.prototype,"onShowWarnBar",null),B([Object(v.Watch)("lastPropertiesUpdatedDiagramId")],V.prototype,"onUpdatedDiagramProperties",null),B([Object(v.Watch)("allResourcesOnCurrentProduct.length")],V.prototype,"onChangeAllResourcesOnCurrentProduct",null),B([Object(v.Watch)("usedResouceIds")],V.prototype,"onChangeUsedResouceIds",null);var A=V=B([Object(v.Component)({components:{CanvasSettingToolBar:h.default,ConnectorRightClickMenuAndEditor:y.default,ResourceEditDialog:m.default}})],V),N=(n(732),n(86)),component=Object(N.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"convasContainer",staticClass:"canvas-container"},[n("div",{staticClass:"diagram-canvas",attrs:{id:e.canvasId}}),e._v(" "),n("CanvasSettingToolBar",{attrs:{diagramId:e.diagramId,canvasZoom:e.canvasZoom,canvasGuideType:e.canvasGuideType},on:{onChangeZoomBySlider:e.onChangeZoomBySlider,onChangeCanvasGuideType:e.onChangeCanvasGuideType,onPngDownload:e.onPngDownload,onSvgDownload:e.onSvgDownload,onOpendDiagramPropertiesEditor:e.onOpendDiagramPropertiesEditor}}),e._v(" "),n("ConnectorRightClickMenuAndEditor",{attrs:{visibleConnectorRightClickMenu:e.visibleConnectorMenu,relation:e.targetRelation,menuPositionX:e.menuX,menuPositionY:e.menuY},on:{onUpdateRelation:e.onUpdateRelation,onDeleteRelation:e.onDeleteRelation}}),e._v(" "),n("ResourceEditDialog",{attrs:{resourceId:e.editResourceId,resourceType:e.editResourceType},on:{onUpdatedResource:e.onUpdatedResource,onClose:e.onCloseResourceEditor}})],1)}),[],!1,null,"0a21de48",null);t.default=component.exports;installComponents(component,{ResourceEditDialog:n(696).default})},739:function(e,t,n){"use strict";n.r(t);n(31);var o=n(5),r=n(6),c=n(10),l=n(9),d=n(7),f=n(20),v=(n(18),n(14),n(32),n(60),n(55),n(70),n(44));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},m=function(e){Object(c.a)(n,e);var t=h(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).availableResourceTypes=[],e.paretsOpen=[],e.rightClickedResourceId=0,e.rightClickedResourceOnDiagram=!1,e.rightClickedResourceOnProduct=!1,e.rightClickedResourceX=0,e.rightClickedResourceY=0,e}return Object(r.a)(n,[{key:"onDeleteResourceOnDiagram",value:function(e){}},{key:"onDeleteResourceOnProduct",value:function(e){}},{key:"created",value:function(){var e=this,t=this.product.diagrams.of(this.diagramId);if(t){t.availableResourceTypes().forEach((function(t){return e.availableResourceTypes.push(t)}));for(var i=0;i<this.availableResourceTypes.length+1;i++)this.paretsOpen.push(i)}}},{key:"onDragStartNewCompany",value:function(e){var t;if(e.target){var text=e.target.getAttribute("data-resource-type-id");if(text){var n=parseInt(text,10);null===(t=e.dataTransfer)||void 0===t||t.setData("text","-"+n)}}}},{key:"onDragStartResource",value:function(e){var t,n=e.srcElement.getAttribute("data-resource-id");null===(t=e.dataTransfer)||void 0===t||t.setData("text",n)}},{key:"onRightClickResource",value:function(e){var t=this;e.preventDefault();var n=e.srcElement,o=n.getAttribute("data-resource-id"),r=n.parentElement;if(o=r.getAttribute("data-resource-id")){var c=Number(o),l=r.getAttribute("data-resource-on-diagram"),d=this.allResourcesOnCurrentProduct.find((function(e){return e.resourceId===c}));d&&(this.rightClickedResourceOnDiagram="true"===l,this.rightClickedResourceOnProduct=d.deletable,this.rightClickedResourceId=0,this.rightClickedResourceX=e.x,this.rightClickedResourceY=e.y,this.$nextTick((function(){t.rightClickedResourceId=c})))}}},{key:"onClickMenuDeleteResourceOnDiagram",value:function(){var e=Number(this.rightClickedResourceId);this.onDeleteResourceOnDiagram(e)}},{key:"onClickMenuDeleteResourceOnProduct",value:function(){var e=Number(this.rightClickedResourceId);this.onDeleteResourceOnProduct(e)}},{key:"filterDisplayParet",value:function(e,t,n){return!!this.product.diagrams.of(this.diagramId)&&(!!e.type.equals(t)&&!n.includes(e.resourceId))}},{key:"filterUsedList",value:function(e,t){return t.includes(e.resourceId)}},{key:"iconKeyOf",value:function(e){return e?e.type.iconKey:""}}]),n}(v.Vue);y([Object(v.Prop)({required:!0})],m.prototype,"diagramId",void 0),y([Object(v.Prop)({required:!0})],m.prototype,"allResourcesOnCurrentProduct",void 0),y([Object(v.Prop)({required:!0})],m.prototype,"usedResouceIds",void 0),y([Object(v.Prop)({required:!0})],m.prototype,"product",void 0),y([Object(v.Emit)("onDeleteResourceOnDiagram")],m.prototype,"onDeleteResourceOnDiagram",null),y([Object(v.Emit)("onDeleteResourceOnProduct")],m.prototype,"onDeleteResourceOnProduct",null);var C=m=y([v.Component],m),R=(n(734),n(86)),O=n(79),k=n.n(O),P=n(269),j=n(860),D=n(861),w=n(862),E=n(863),x=n(266),I=n(268),_=n(163),T=n(90),M=n(274),component=Object(R.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"paret-panel"},[n("v-expansion-panels",{attrs:{multiple:"",focusable:"",dark:""},model:{value:e.paretsOpen,callback:function(t){e.paretsOpen=t},expression:"paretsOpen"}},[e._l(e.availableResourceTypes,(function(t){return n("v-expansion-panel",{key:t.id},[n("v-expansion-panel-header",[n("div",{staticClass:"omit-long-text"},[n("v-icon",{attrs:{id:t.iconKey}},[e._v(e._s(t.iconKey))]),e._v("\n        "+e._s(t.name)+"\n      ")],1)]),e._v(" "),n("v-expansion-panel-content",[n("v-list",{attrs:{dark:"",dence:""}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",{staticClass:"chip-container"},[n("v-chip",{attrs:{color:"primary",dark:"",outlined:"",draggable:"","data-resource-type-id":t.id},on:{dragstart:e.onDragStartNewCompany}},[n("v-icon",[e._v(e._s(t.iconKey))]),e._v("新規追加\n              ")],1)],1)],1)],1),e._v(" "),e._l(e.allResourcesOnCurrentProduct.filter((function(n){return e.filterDisplayParet(n,t,e.usedResouceIds)})),(function(o){return n("v-list-item",{key:o.resourceId},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"chip-container"},[n("v-chip",{attrs:{"data-resource-id":o.resourceId,color:"primary",dark:"",draggable:""},on:{dragstart:e.onDragStartResource,contextmenu:e.onRightClickResource}},[n("v-icon",[e._v(e._s(t.iconKey))]),e._v("\n                "+e._s(o.name)+"\n              ")],1)],1)],1)],1)}))],2)],1)],1)})),e._v(" "),n("v-expansion-panel",[n("v-expansion-panel-header",[n("div",{staticClass:"omit-long-text"},[n("v-icon",[e._v("mdi-clipboard-check-multiple-outline")]),e._v("この図で使用済\n      ")],1)]),e._v(" "),n("v-expansion-panel-content",[n("v-list",{attrs:{dark:"",dence:""}},e._l(e.allResourcesOnCurrentProduct.filter((function(t){return e.filterUsedList(t,e.usedResouceIds)})),(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"chip-container"},[n("v-chip",{attrs:{dark:"","data-resource-id":t.resourceId,"data-resource-on-diagram":"true"},on:{contextmenu:e.onRightClickResource}},[n("v-icon",[e._v(e._s(e.iconKeyOf(t)))]),e._v("\n                "+e._s(t.name)+"\n              ")],1)],1)],1)],1)})),1)],1)],1),e._v(" "),n("v-menu",{attrs:{value:e.rightClickedResourceId,"close-on-click":!0,"close-on-content-click":!0,"offset-x":!0,rounded:!0,"position-x":e.rightClickedResourceX,"position-y":e.rightClickedResourceY}},[n("v-list",[e.rightClickedResourceOnDiagram?n("v-list-item",{attrs:{link:""},on:{click:e.onClickMenuDeleteResourceOnDiagram}},[n("v-list-item-title",[e._v("このダイアグラムから削除")])],1):e._e(),e._v(" "),e.rightClickedResourceOnProduct?n("v-list-item",{attrs:{link:""},on:{click:e.onClickMenuDeleteResourceOnProduct}},[n("v-list-item-title",[e._v("プロダクト全体から削除")])],1):e._e()],1)],1)],2)],1)}),[],!1,null,null,null);t.default=component.exports;k()(component,{VChip:P.a,VExpansionPanel:j.a,VExpansionPanelContent:D.a,VExpansionPanelHeader:w.a,VExpansionPanels:E.a,VIcon:x.a,VList:I.a,VListItem:_.a,VListItemContent:T.a,VListItemTitle:T.b,VMenu:M.a})},740:function(e,t,n){"use strict";n(707)},741:function(e,t,n){var o=n(26)(!1);o.push([e.i,".diagram-pain-container[data-v-9d44e614]{display:flex;position:absolute;height:100%;width:100%}",""]),e.exports=o}}]);