(window.webpackJsonp=window.webpackJsonp||[]).push([[10,73],{685:function(t,e,n){"use strict";n.r(e);n(31);var r=n(5),o=n(6),c=n(10),l=n(9),f=n(7),d=n(20),h=(n(18),n(106));function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var y=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},O=function(t){Object(c.a)(n,t);var e=v(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"onClose",value:function(){}},{key:"onClickOk",value:function(){}},{key:"onShow",value:function(){}},{key:"onChangeId",value:function(){this.id&&this.onShow()}},{key:"onKeyEsc",value:function(){this.ignoreEscKey||this.onClose()}},{key:"onKeyEnter",value:function(){this.ignoreEnterKey||this.onClickOk()}}]),n}(h.Vue);y([Object(h.Prop)({required:!0})],O.prototype,"id",void 0),y([Object(h.Prop)({required:!0})],O.prototype,"title",void 0),y([Object(h.Prop)()],O.prototype,"iconKey",void 0),y([Object(h.Prop)()],O.prototype,"consent",void 0),y([Object(h.Prop)()],O.prototype,"subTitle",void 0),y([Object(h.Prop)()],O.prototype,"width",void 0),y([Object(h.Prop)()],O.prototype,"ignoreEscKey",void 0),y([Object(h.Prop)()],O.prototype,"ignoreEnterKey",void 0),y([Object(h.Emit)("onClose")],O.prototype,"onClose",null),y([Object(h.Emit)("onClickOk")],O.prototype,"onClickOk",null),y([Object(h.Emit)("onShow")],O.prototype,"onShow",null),y([Object(h.Watch)("id")],O.prototype,"onChangeId",null);var j=O=y([h.Component],O),m=n(86),k=n(79),w=n.n(k),C=n(294),P=n(264),S=n(47),x=n(663),E=n(266),_=n(674),component=Object(m.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":t.width,value:t.id},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onKeyEsc.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onKeyEnter.apply(null,arguments)}]}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[n("v-icon",[t._v(t._s(t.iconKey))]),t._v("\n      "+t._s(t.title)+"\n    ")],1),t._v(" "),n("v-card-subtitle",{staticClass:"text-right"},[t._v(t._s(t.subTitle))]),t._v(" "),n("v-card-text",[t._t("inputPart")],2),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{text:"",color:"normal"},on:{click:t.onClose}},[t._v("キャンセル")]),t._v(" "),n("v-btn",{attrs:{text:"",disabled:!t.consent,color:"primary"},on:{click:t.onClickOk}},[t._v("OK")])],1)],1)],1)}),[],!1,null,"6576dd9c",null);e.default=component.exports;w()(component,{VBtn:C.a,VCard:P.a,VCardActions:S.a,VCardSubtitle:S.b,VCardText:S.c,VCardTitle:S.d,VDialog:x.a,VIcon:E.a,VSpacer:_.a})},774:function(t,e,n){"use strict";n(17),n(11),n(18),n(21);var r=n(2),o=(n(32),n(19),n(50),n(92),n(495),n(25),n(43),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(42),n(55),n(14),n(93),n(509),n(4)),c=n(72),l=n(0);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["sm","md","lg","xl"],v=h.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),y=h.reduce((function(t,e){return t["offset"+Object(l.A)(e)]={type:[String,Number],default:null},t}),{}),O=h.reduce((function(t,e){return t["order"+Object(l.A)(e)]={type:[String,Number],default:null},t}),{}),j={col:Object.keys(v),offset:Object.keys(y),order:Object.keys(O)};function m(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var k=new Map;e.a=o.default.extend({name:"v-col",functional:!0,props:d(d(d(d({cols:{type:[Boolean,String,Number],default:!1}},v),{},{offset:{type:[String,Number],default:null}},y),{},{order:{type:[String,Number],default:null}},O),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,l=(e.parent,"");for(var f in n)l+=String(n[f]);var d=k.get(l);return d||function(){var t,e;for(e in d=[],j)j[e].forEach((function(t){var r=n[t],o=m(e,t,r);o&&d.push(o)}));var o=d.some((function(t){return t.startsWith("col-")}));d.push((t={col:!o||!n.cols},Object(r.a)(t,"col-".concat(n.cols),n.cols),Object(r.a)(t,"offset-".concat(n.offset),n.offset),Object(r.a)(t,"order-".concat(n.order),n.order),Object(r.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),k.set(l,d)}(),t(n.tag,Object(c.a)(data,{class:d}),o)}})},775:function(t,e,n){"use strict";n(17),n(11),n(18),n(21);var r=n(2),o=(n(55),n(70),n(35),n(19),n(50),n(92),n(495),n(25),n(43),n(496),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(42),n(14),n(509),n(4)),c=n(72),l=n(0);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h=["sm","md","lg","xl"],v=["start","end","center"];function y(t,e){return h.reduce((function(n,r){return n[t+Object(l.A)(r)]=e(),n}),{})}var O=function(t){return[].concat(v,["baseline","stretch"]).includes(t)},j=y("align",(function(){return{type:String,default:null,validator:O}})),m=function(t){return[].concat(v,["space-between","space-around"]).includes(t)},k=y("justify",(function(){return{type:String,default:null,validator:m}})),w=function(t){return[].concat(v,["space-between","space-around","stretch"]).includes(t)},C=y("alignContent",(function(){return{type:String,default:null,validator:w}})),P={align:Object.keys(j),justify:Object.keys(k),alignContent:Object.keys(C)},S={align:"align",justify:"justify",alignContent:"align-content"};function x(t,e,n){var r=S[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var E=new Map;e.a=o.default.extend({name:"v-row",functional:!0,props:d(d(d({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:O}},j),{},{justify:{type:String,default:null,validator:m}},k),{},{alignContent:{type:String,default:null,validator:w}},C),render:function(t,e){var n=e.props,data=e.data,o=e.children,l="";for(var f in n)l+=String(n[f]);var d=E.get(l);return d||function(){var t,e;for(e in d=[],P)P[e].forEach((function(t){var r=n[t],o=x(e,t,r);o&&d.push(o)}));d.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(t,"align-".concat(n.align),n.align),Object(r.a)(t,"justify-".concat(n.justify),n.justify),Object(r.a)(t,"align-content-".concat(n.alignContent),n.alignContent),t)),E.set(l,d)}(),t(n.tag,Object(c.a)(data,{staticClass:"row",class:d}),o)}})},809:function(t,e,n){n(13)({target:"Number",stat:!0},{isInteger:n(810)})},810:function(t,e,n){var r=n(56),o=Math.floor;t.exports=Number.isInteger||function(t){return!r(t)&&isFinite(t)&&o(t)===t}},841:function(t,e,n){"use strict";n.r(e);n(31);var r=n(5),o=n(6),c=n(10),l=n(9),f=n(7),d=n(20),h=(n(18),n(22),n(809),n(32),n(25),n(61),n(106)),v=n(685),y=n(46);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},m=function(t){Object(c.a)(n,t);var e=O(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).consent=!1,t.subTitle="",t.title="",t.iconKey="",t.name="",t.width="",t.height="",t}return Object(o.a)(n,[{key:"onUpdatedDiagramProperties",value:function(t){}},{key:"onClose",value:function(){}},{key:"onChangeDiagramId",value:function(){Number.isInteger(this.diagramId)&&(Number(this.diagramId)>0&&this.onShow())}},{key:"onShow",value:function(){var t;this.consent=!1;var e=null===(t=this.repository)||void 0===t?void 0:t.getCurrentProduct(),n=null==e?void 0:e.diagrams.of(this.diagramId);n&&(this.old=n,this.title="".concat(n.name," の設定"),this.subTitle=n.type.name,this.iconKey=n.type.iconKey,this.showProperties(n))}},{key:"loadDiagram",value:function(){var t,e=null===(t=this.repository)||void 0===t?void 0:t.getCurrentProduct(),n=null==e?void 0:e.diagrams.of(this.diagramId);return n||null}},{key:"showProperties",value:function(t){this.name=t.name,this.width=t.width.toString(),this.height=t.height.toString()}},{key:"changed",value:function(){var t=this.old;return t.name!==this.name||t.width!==this.getWidth()||t.height!==this.getHeight()}},{key:"nameMaxLength",get:function(){return y.a.NAME_MAX_LENGTH}},{key:"getWidth",value:function(){return Number(this.width)}},{key:"getHeight",value:function(){return Number(this.height)}},{key:"validateName",value:function(){this.consent=!1;var t=this.name;if(0===t.length)return"入力してください。";var e=this.nameMaxLength;return t.length>e?"".concat(e,"文字以内で入力してください。"):(this.consent=this.changed(),!0)}},{key:"validateWidith",value:function(){return this.validateSize(this.width,y.a.MAX_WIDTH)}},{key:"validateHeight",value:function(){return this.validateSize(this.height,y.a.MAX_HEIGHT)}},{key:"validateSize",value:function(t,e){if(this.consent=!1,!t)return"入力してください。";if(!Number.isInteger(Number(t)))return"数値を入力して下さい。";var n=Number(t);return n<1?"".concat(1," 以上で入力してください。"):n>e?"".concat(e," 以下で入力してください。"):(this.consent=this.changed(),!0)}},{key:"onClickUpdateExecute",value:function(){if(this.consent){var t=this.registerDiagramProperties();t&&(this.onUpdatedDiagramProperties(t),this.onClose())}}},{key:"registerDiagramProperties",value:function(){var t,e,n=null===(t=this.repository)||void 0===t?void 0:t.getCurrentProduct(),r=null==n?void 0:n.diagrams.of(this.diagramId);if(!n||!r)return null;var o=r.with(this.name).resize(this.getWidth(),this.getHeight());if(!this.logicalValidation(o,n))return null;var c=o.fixStickOuts(),l=n.replaceOf(c);return null===(e=this.repository)||void 0===e||e.registerCurrentProduct(l),c}},{key:"logicalValidation",value:function(t,e){if(e.diagrams.eixistsSomeName(t))return alert("既に重複した名前の図が在ります。"),!1;if(t.existsStickOutPlacements()){if(!window.confirm("このサイズ変更を実行すると、はみ出すアイコンがあります。\nはみ出したアイコンは、実行時に削除されます。\nよろしいですか。"))return!1}return!0}}]),n}(h.Vue);j([Object(h.Prop)({required:!0})],m.prototype,"diagramId",void 0),j([Object(h.Emit)("onUpdatedDiagramProperties")],m.prototype,"onUpdatedDiagramProperties",null),j([Object(h.Emit)("onClose")],m.prototype,"onClose",null),j([Object(h.Watch)("diagramId")],m.prototype,"onChangeDiagramId",null),j([Object(h.Inject)()],m.prototype,"repository",void 0);var k=m=j([Object(h.Component)({components:{PropertiesSettingDialog:v.default}})],m),w=n(86),C=n(79),P=n.n(C),S=n(774),x=n(676),E=n(775),_=n(125),component=Object(w.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PropertiesSettingDialog",{attrs:{id:t.diagramId,consent:t.consent,title:t.title,subTitle:t.subTitle,iconKey:t.iconKey,width:"400"},on:{onClose:t.onClose,onClickOk:t.onClickUpdateExecute,onShow:t.onShow},scopedSlots:t._u([{key:"inputPart",fn:function(){return[n("v-container",[n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"名前",counter:"",autofocus:"",rules:[t.validateName],maxlength:t.nameMaxLength},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),t._v(" "),n("v-row",[n("v-col",[n("v-text-field",{attrs:{label:"横幅(px)",type:"number",rules:[t.validateWidith]},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}})],1),t._v(" "),n("v-col",[n("v-text-field",{attrs:{label:"高さ(px)",type:"number",rules:[t.validateHeight]},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1)],1)],1)]},proxy:!0}])})}),[],!1,null,"b3ced0a0",null);e.default=component.exports;P()(component,{PropertiesSettingDialog:n(685).default}),P()(component,{VCol:S.a,VContainer:x.a,VRow:E.a,VTextField:_.a})}}]);